{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\n\nvar _taggedTemplateLiteral = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\").default;\n\nvar _templateObject, _templateObject2;\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar codegen_1 = require(\"ajv/dist/compile/codegen\");\n\nfunction getDef() {\n  return {\n    keyword: \"deepRequired\",\n    type: \"object\",\n    schemaType: \"array\",\n    code: function code(ctx) {\n      var schema = ctx.schema,\n          data = ctx.data;\n      var props = schema.map(function (jp) {\n        return (0, codegen_1._)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"(\", \") === undefined\"])), getData(jp));\n      });\n      ctx.fail((0, codegen_1.or).apply(void 0, _toConsumableArray(props)));\n\n      function getData(jsonPointer) {\n        if (jsonPointer === \"\") throw new Error(\"empty JSON pointer not allowed\");\n        var segments = jsonPointer.split(\"/\");\n        var x = data;\n        var xs = segments.map(function (s, i) {\n          return i ? x = (0, codegen_1._)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\", \"\", \"\"])), x, (0, codegen_1.getProperty)(unescapeJPSegment(s))) : x;\n        });\n        return (0, codegen_1.and).apply(void 0, _toConsumableArray(xs));\n      }\n    },\n    metaSchema: {\n      type: \"array\",\n      items: {\n        type: \"string\",\n        format: \"json-pointer\"\n      }\n    }\n  };\n}\n\nexports.default = getDef;\n\nfunction unescapeJPSegment(s) {\n  return s.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\n\nmodule.exports = getDef;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA;;AAEA,SAAwBA,MAAxB,GAA8B;AAC5B,SAAO;AACLC,WAAO,EAAE,cADJ;AAELC,QAAI,EAAE,QAFD;AAGLC,cAAU,EAAE,OAHP;AAILC,QAJK,gBAIAC,GAJA,EAIe;AAClB,UAAOC,MAAP,GAAuBD,GAAvB,CAAOC,MAAP;AAAA,UAAeC,IAAf,GAAuBF,GAAvB,CAAeE,IAAf;AACA,UAAMC,KAAK,GAAIF,MAAmB,CAACG,GAApB,CAAwB,UAACC,EAAD;AAAA,gBAAgB,cAAhB,2FAAqBC,OAAO,CAACD,EAAD,CAA5B;AAAA,OAAxB,CAAf;AACAL,SAAG,CAACO,IAAJ,CAAS,mDAAMJ,KAAN,EAAT;;AAEA,eAASG,OAAT,CAAiBE,WAAjB,EAAoC;AAClC,YAAIA,WAAW,KAAK,EAApB,EAAwB,MAAM,IAAIC,KAAJ,CAAU,gCAAV,CAAN;AACxB,YAAMC,QAAQ,GAAGF,WAAW,CAACG,KAAZ,CAAkB,GAAlB,CAAjB;AACA,YAAIC,CAAC,GAASV,IAAd;AACA,YAAMW,EAAE,GAAGH,QAAQ,CAACN,GAAT,CAAa,UAACU,CAAD,EAAIC,CAAJ;AAAA,iBACtBA,CAAC,GAAIH,CAAC,IAAG,cAAH,iFAAOA,CAAP,EAAW,2BAAYI,iBAAiB,CAACF,CAAD,CAA7B,CAAX,CAAL,GAAuDF,CADlC;AAAA,SAAb,CAAX;AAGA,eAAO,oDAAOC,EAAP,EAAP;AACD;AACF,KAlBI;AAmBLI,cAAU,EAAE;AACVpB,UAAI,EAAE,OADI;AAEVqB,WAAK,EAAE;AAACrB,YAAI,EAAE,QAAP;AAAiBsB,cAAM,EAAE;AAAzB;AAFG;AAnBP,GAAP;AAwBD;;AAzBDC;;AA2BA,SAASJ,iBAAT,CAA2BF,CAA3B,EAAoC;AAClC,SAAOA,CAAC,CAACO,OAAF,CAAU,KAAV,EAAiB,GAAjB,EAAsBA,OAAtB,CAA8B,KAA9B,EAAqC,GAArC,CAAP;AACD;;AAEDC,MAAM,CAACF,OAAP,GAAiBzB,MAAjB","names":["getDef","keyword","type","schemaType","code","ctx","schema","data","props","map","jp","getData","fail","jsonPointer","Error","segments","split","x","xs","s","i","unescapeJPSegment","metaSchema","items","format","exports","replace","module"],"sourceRoot":"","sources":["../../src/definitions/deepRequired.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}