{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileHandle = void 0;\n\nfunction promisify(vol, fn, getResult) {\n  if (getResult === void 0) {\n    getResult = function getResult(input) {\n      return input;\n    };\n  }\n\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return new Promise(function (resolve, reject) {\n      vol[fn].bind(vol).apply(void 0, __spreadArray(__spreadArray([], args, false), [function (error, result) {\n        if (error) return reject(error);\n        return resolve(getResult(result));\n      }], false));\n    });\n  };\n}\n\nvar FileHandle =\n/** @class */\nfunction () {\n  function FileHandle(vol, fd) {\n    this.vol = vol;\n    this.fd = fd;\n  }\n\n  FileHandle.prototype.appendFile = function (data, options) {\n    return promisify(this.vol, 'appendFile')(this.fd, data, options);\n  };\n\n  FileHandle.prototype.chmod = function (mode) {\n    return promisify(this.vol, 'fchmod')(this.fd, mode);\n  };\n\n  FileHandle.prototype.chown = function (uid, gid) {\n    return promisify(this.vol, 'fchown')(this.fd, uid, gid);\n  };\n\n  FileHandle.prototype.close = function () {\n    return promisify(this.vol, 'close')(this.fd);\n  };\n\n  FileHandle.prototype.datasync = function () {\n    return promisify(this.vol, 'fdatasync')(this.fd);\n  };\n\n  FileHandle.prototype.read = function (buffer, offset, length, position) {\n    return promisify(this.vol, 'read', function (bytesRead) {\n      return {\n        bytesRead: bytesRead,\n        buffer: buffer\n      };\n    })(this.fd, buffer, offset, length, position);\n  };\n\n  FileHandle.prototype.readFile = function (options) {\n    return promisify(this.vol, 'readFile')(this.fd, options);\n  };\n\n  FileHandle.prototype.stat = function (options) {\n    return promisify(this.vol, 'fstat')(this.fd, options);\n  };\n\n  FileHandle.prototype.sync = function () {\n    return promisify(this.vol, 'fsync')(this.fd);\n  };\n\n  FileHandle.prototype.truncate = function (len) {\n    return promisify(this.vol, 'ftruncate')(this.fd, len);\n  };\n\n  FileHandle.prototype.utimes = function (atime, mtime) {\n    return promisify(this.vol, 'futimes')(this.fd, atime, mtime);\n  };\n\n  FileHandle.prototype.write = function (buffer, offset, length, position) {\n    return promisify(this.vol, 'write', function (bytesWritten) {\n      return {\n        bytesWritten: bytesWritten,\n        buffer: buffer\n      };\n    })(this.fd, buffer, offset, length, position);\n  };\n\n  FileHandle.prototype.writeFile = function (data, options) {\n    return promisify(this.vol, 'writeFile')(this.fd, data, options);\n  };\n\n  return FileHandle;\n}();\n\nexports.FileHandle = FileHandle;\n\nfunction createPromisesApi(vol) {\n  if (typeof Promise === 'undefined') return null;\n  return {\n    FileHandle: FileHandle,\n    access: function access(path, mode) {\n      return promisify(vol, 'access')(path, mode);\n    },\n    appendFile: function appendFile(path, data, options) {\n      return promisify(vol, 'appendFile')(path instanceof FileHandle ? path.fd : path, data, options);\n    },\n    chmod: function chmod(path, mode) {\n      return promisify(vol, 'chmod')(path, mode);\n    },\n    chown: function chown(path, uid, gid) {\n      return promisify(vol, 'chown')(path, uid, gid);\n    },\n    copyFile: function copyFile(src, dest, flags) {\n      return promisify(vol, 'copyFile')(src, dest, flags);\n    },\n    lchmod: function lchmod(path, mode) {\n      return promisify(vol, 'lchmod')(path, mode);\n    },\n    lchown: function lchown(path, uid, gid) {\n      return promisify(vol, 'lchown')(path, uid, gid);\n    },\n    link: function link(existingPath, newPath) {\n      return promisify(vol, 'link')(existingPath, newPath);\n    },\n    lstat: function lstat(path, options) {\n      return promisify(vol, 'lstat')(path, options);\n    },\n    mkdir: function mkdir(path, options) {\n      return promisify(vol, 'mkdir')(path, options);\n    },\n    mkdtemp: function mkdtemp(prefix, options) {\n      return promisify(vol, 'mkdtemp')(prefix, options);\n    },\n    open: function open(path, flags, mode) {\n      return promisify(vol, 'open', function (fd) {\n        return new FileHandle(vol, fd);\n      })(path, flags, mode);\n    },\n    readdir: function readdir(path, options) {\n      return promisify(vol, 'readdir')(path, options);\n    },\n    readFile: function readFile(id, options) {\n      return promisify(vol, 'readFile')(id instanceof FileHandle ? id.fd : id, options);\n    },\n    readlink: function readlink(path, options) {\n      return promisify(vol, 'readlink')(path, options);\n    },\n    realpath: function realpath(path, options) {\n      return promisify(vol, 'realpath')(path, options);\n    },\n    rename: function rename(oldPath, newPath) {\n      return promisify(vol, 'rename')(oldPath, newPath);\n    },\n    rmdir: function rmdir(path) {\n      return promisify(vol, 'rmdir')(path);\n    },\n    rm: function rm(path, options) {\n      return promisify(vol, 'rm')(path, options);\n    },\n    stat: function stat(path, options) {\n      return promisify(vol, 'stat')(path, options);\n    },\n    symlink: function symlink(target, path, type) {\n      return promisify(vol, 'symlink')(target, path, type);\n    },\n    truncate: function truncate(path, len) {\n      return promisify(vol, 'truncate')(path, len);\n    },\n    unlink: function unlink(path) {\n      return promisify(vol, 'unlink')(path);\n    },\n    utimes: function utimes(path, atime, mtime) {\n      return promisify(vol, 'utimes')(path, atime, mtime);\n    },\n    writeFile: function writeFile(id, data, options) {\n      return promisify(vol, 'writeFile')(id instanceof FileHandle ? id.fd : id, data, options);\n    }\n  };\n}\n\nexports.default = createPromisesApi;","map":{"version":3,"sources":["E:/DW/wasai-cinema/node_modules/memfs/lib/promises.js"],"names":["__spreadArray","to","from","pack","arguments","length","i","l","ar","Array","prototype","slice","call","concat","Object","defineProperty","exports","value","FileHandle","promisify","vol","fn","getResult","input","args","_i","Promise","resolve","reject","bind","apply","error","result","fd","appendFile","data","options","chmod","mode","chown","uid","gid","close","datasync","read","buffer","offset","position","bytesRead","readFile","stat","sync","truncate","len","utimes","atime","mtime","write","bytesWritten","writeFile","createPromisesApi","access","path","copyFile","src","dest","flags","lchmod","lchown","link","existingPath","newPath","lstat","mkdir","mkdtemp","prefix","open","readdir","id","readlink","realpath","rename","oldPath","rmdir","rm","symlink","target","type","unlink","default"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileHandle = void 0;\nfunction promisify(vol, fn, getResult) {\n    if (getResult === void 0) { getResult = function (input) { return input; }; }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return new Promise(function (resolve, reject) {\n            vol[fn].bind(vol).apply(void 0, __spreadArray(__spreadArray([], args, false), [function (error, result) {\n                    if (error)\n                        return reject(error);\n                    return resolve(getResult(result));\n                }], false));\n        });\n    };\n}\nvar FileHandle = /** @class */ (function () {\n    function FileHandle(vol, fd) {\n        this.vol = vol;\n        this.fd = fd;\n    }\n    FileHandle.prototype.appendFile = function (data, options) {\n        return promisify(this.vol, 'appendFile')(this.fd, data, options);\n    };\n    FileHandle.prototype.chmod = function (mode) {\n        return promisify(this.vol, 'fchmod')(this.fd, mode);\n    };\n    FileHandle.prototype.chown = function (uid, gid) {\n        return promisify(this.vol, 'fchown')(this.fd, uid, gid);\n    };\n    FileHandle.prototype.close = function () {\n        return promisify(this.vol, 'close')(this.fd);\n    };\n    FileHandle.prototype.datasync = function () {\n        return promisify(this.vol, 'fdatasync')(this.fd);\n    };\n    FileHandle.prototype.read = function (buffer, offset, length, position) {\n        return promisify(this.vol, 'read', function (bytesRead) { return ({ bytesRead: bytesRead, buffer: buffer }); })(this.fd, buffer, offset, length, position);\n    };\n    FileHandle.prototype.readFile = function (options) {\n        return promisify(this.vol, 'readFile')(this.fd, options);\n    };\n    FileHandle.prototype.stat = function (options) {\n        return promisify(this.vol, 'fstat')(this.fd, options);\n    };\n    FileHandle.prototype.sync = function () {\n        return promisify(this.vol, 'fsync')(this.fd);\n    };\n    FileHandle.prototype.truncate = function (len) {\n        return promisify(this.vol, 'ftruncate')(this.fd, len);\n    };\n    FileHandle.prototype.utimes = function (atime, mtime) {\n        return promisify(this.vol, 'futimes')(this.fd, atime, mtime);\n    };\n    FileHandle.prototype.write = function (buffer, offset, length, position) {\n        return promisify(this.vol, 'write', function (bytesWritten) { return ({ bytesWritten: bytesWritten, buffer: buffer }); })(this.fd, buffer, offset, length, position);\n    };\n    FileHandle.prototype.writeFile = function (data, options) {\n        return promisify(this.vol, 'writeFile')(this.fd, data, options);\n    };\n    return FileHandle;\n}());\nexports.FileHandle = FileHandle;\nfunction createPromisesApi(vol) {\n    if (typeof Promise === 'undefined')\n        return null;\n    return {\n        FileHandle: FileHandle,\n        access: function (path, mode) {\n            return promisify(vol, 'access')(path, mode);\n        },\n        appendFile: function (path, data, options) {\n            return promisify(vol, 'appendFile')(path instanceof FileHandle ? path.fd : path, data, options);\n        },\n        chmod: function (path, mode) {\n            return promisify(vol, 'chmod')(path, mode);\n        },\n        chown: function (path, uid, gid) {\n            return promisify(vol, 'chown')(path, uid, gid);\n        },\n        copyFile: function (src, dest, flags) {\n            return promisify(vol, 'copyFile')(src, dest, flags);\n        },\n        lchmod: function (path, mode) {\n            return promisify(vol, 'lchmod')(path, mode);\n        },\n        lchown: function (path, uid, gid) {\n            return promisify(vol, 'lchown')(path, uid, gid);\n        },\n        link: function (existingPath, newPath) {\n            return promisify(vol, 'link')(existingPath, newPath);\n        },\n        lstat: function (path, options) {\n            return promisify(vol, 'lstat')(path, options);\n        },\n        mkdir: function (path, options) {\n            return promisify(vol, 'mkdir')(path, options);\n        },\n        mkdtemp: function (prefix, options) {\n            return promisify(vol, 'mkdtemp')(prefix, options);\n        },\n        open: function (path, flags, mode) {\n            return promisify(vol, 'open', function (fd) { return new FileHandle(vol, fd); })(path, flags, mode);\n        },\n        readdir: function (path, options) {\n            return promisify(vol, 'readdir')(path, options);\n        },\n        readFile: function (id, options) {\n            return promisify(vol, 'readFile')(id instanceof FileHandle ? id.fd : id, options);\n        },\n        readlink: function (path, options) {\n            return promisify(vol, 'readlink')(path, options);\n        },\n        realpath: function (path, options) {\n            return promisify(vol, 'realpath')(path, options);\n        },\n        rename: function (oldPath, newPath) {\n            return promisify(vol, 'rename')(oldPath, newPath);\n        },\n        rmdir: function (path) {\n            return promisify(vol, 'rmdir')(path);\n        },\n        rm: function (path, options) {\n            return promisify(vol, 'rm')(path, options);\n        },\n        stat: function (path, options) {\n            return promisify(vol, 'stat')(path, options);\n        },\n        symlink: function (target, path, type) {\n            return promisify(vol, 'symlink')(target, path, type);\n        },\n        truncate: function (path, len) {\n            return promisify(vol, 'truncate')(path, len);\n        },\n        unlink: function (path) {\n            return promisify(vol, 'unlink')(path);\n        },\n        utimes: function (path, atime, mtime) {\n            return promisify(vol, 'utimes')(path, atime, mtime);\n        },\n        writeFile: function (id, data, options) {\n            return promisify(vol, 'writeFile')(id instanceof FileHandle ? id.fd : id, data, options);\n        },\n    };\n}\nexports.default = createPromisesApi;\n"]},"metadata":{},"sourceType":"script"}