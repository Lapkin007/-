{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _taggedTemplateLiteral = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\").default;\n\nvar _slicedToArray = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nvar _templateObject;\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar formats_1 = require(\"./formats\");\n\nvar limit_1 = require(\"./limit\");\n\nvar codegen_1 = require(\"ajv/dist/compile/codegen\");\n\nvar fullName = new codegen_1.Name(\"fullFormats\");\nvar fastName = new codegen_1.Name(\"fastFormats\");\n\nvar formatsPlugin = function formatsPlugin(ajv) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    keywords: true\n  };\n\n  if (Array.isArray(opts)) {\n    addFormats(ajv, opts, formats_1.fullFormats, fullName);\n    return ajv;\n  }\n\n  var _ref = opts.mode === \"fast\" ? [formats_1.fastFormats, fastName] : [formats_1.fullFormats, fullName],\n      _ref2 = _slicedToArray(_ref, 2),\n      formats = _ref2[0],\n      exportName = _ref2[1];\n\n  var list = opts.formats || formats_1.formatNames;\n  addFormats(ajv, list, formats, exportName);\n  if (opts.keywords) limit_1.default(ajv);\n  return ajv;\n};\n\nformatsPlugin.get = function (name) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"full\";\n  var formats = mode === \"fast\" ? formats_1.fastFormats : formats_1.fullFormats;\n  var f = formats[name];\n  if (!f) throw new Error(\"Unknown format \\\"\".concat(name, \"\\\"\"));\n  return f;\n};\n\nfunction addFormats(ajv, list, fs, exportName) {\n  var _a;\n\n  var _b;\n\n  (_a = (_b = ajv.opts.code).formats) !== null && _a !== void 0 ? _a : _b.formats = codegen_1._(_templateObject || (_templateObject = _taggedTemplateLiteral([\"require(\\\"ajv-formats/dist/formats\\\").\", \"\"])), exportName);\n\n  var _iterator = _createForOfIteratorHelper(list),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var f = _step.value;\n      ajv.addFormat(f, fs[f]);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nmodule.exports = exports = formatsPlugin;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatsPlugin;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAAA;;AAQA;;AAGA;;AAgBA,IAAMA,QAAQ,GAAG,IAAIC,cAAJ,CAAS,aAAT,CAAjB;AACA,IAAMC,QAAQ,GAAG,IAAID,cAAJ,CAAS,aAAT,CAAjB;;AAEA,IAAME,aAAa,GAAkB,SAA/BA,aAA+B,CACnCC,GADmC,EAG5B;AAAA,MADPC,IACO,uEADsB;AAACC,YAAQ,EAAE;AAAX,GACtB;;AACP,MAAIC,KAAK,CAACC,OAAN,CAAcH,IAAd,CAAJ,EAAyB;AACvBI,cAAU,CAACL,GAAD,EAAMC,IAAN,EAAYK,qBAAZ,EAAyBV,QAAzB,CAAV;AACA,WAAOI,GAAP;AACD;;AACD,aACEC,IAAI,CAACM,IAAL,KAAc,MAAd,GAAuB,CAACD,qBAAD,EAAcR,QAAd,CAAvB,GAAiD,CAACQ,qBAAD,EAAcV,QAAd,CADnD;AAAA;AAAA,MAAOY,OAAP;AAAA,MAAgBC,UAAhB;;AAEA,MAAMC,IAAI,GAAGT,IAAI,CAACO,OAAL,IAAgBF,qBAA7B;AACAD,YAAU,CAACL,GAAD,EAAMU,IAAN,EAAYF,OAAZ,EAAqBC,UAArB,CAAV;AACA,MAAIR,IAAI,CAACC,QAAT,EAAmBS,gBAAYX,GAAZ;AACnB,SAAOA,GAAP;AACD,CAdD;;AAgBAD,aAAa,CAACa,GAAd,GAAoB,UAACC,IAAD,EAAwD;AAAA,MAArCN,IAAqC,uEAAlB,MAAkB;AAC1E,MAAMC,OAAO,GAAGD,IAAI,KAAK,MAAT,GAAkBD,qBAAlB,GAAgCA,qBAAhD;AACA,MAAMQ,CAAC,GAAGN,OAAO,CAACK,IAAD,CAAjB;AACA,MAAI,CAACC,CAAL,EAAQ,MAAM,IAAIC,KAAJ,4BAA6BF,IAA7B,QAAN;AACR,SAAOC,CAAP;AACD,CALD;;AAOA,SAAST,UAAT,CAAoBL,GAApB,EAA8BU,IAA9B,EAAkDM,EAAlD,EAAsEP,UAAtE,EAAsF;;;;;AACpF,iBAAG,CAACR,IAAJ,CAASgB,IAAT,EAAcT,OAAd,MAAqB,IAArB,IAAqBU,aAArB,GAAqBA,EAArB,GAAqBC,GAAPX,OAAO,GAAKX,WAAL,gHAA6CY,UAA7C,CAArB;;AADoF,6CAEpEC,IAFoE;AAAA;;AAAA;AAEpF;AAAA,UAAWI,CAAX;AAAsBd,SAAG,CAACoB,SAAJ,CAAcN,CAAd,EAAiBE,EAAE,CAACF,CAAD,CAAnB;AAAtB;AAFoF;AAAA;AAAA;AAAA;AAAA;AAGrF;;AAEDO,MAAM,CAACC,OAAP,GAAiBA,OAAO,GAAGvB,aAA3B;AACAwB,MAAM,CAACC,cAAP,CAAsBF,OAAtB,EAA+B,YAA/B,EAA6C;AAACG,OAAK,EAAE;AAAR,CAA7C;AAEAH,kBAAevB,aAAf","names":["fullName","codegen_1","fastName","formatsPlugin","ajv","opts","keywords","Array","isArray","addFormats","formats_1","mode","formats","exportName","list","limit_1","get","name","f","Error","fs","code","_a","_b","addFormat","module","exports","Object","defineProperty","value"],"sourceRoot":"","sources":["../src/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}