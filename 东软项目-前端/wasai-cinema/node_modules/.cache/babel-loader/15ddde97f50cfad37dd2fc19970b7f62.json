{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\n\nvar _taggedTemplateLiteral = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\").default;\n\nvar _createForOfIteratorHelper = require(\"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18;\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\n\nvar codegen_1 = require(\"./codegen\");\n\nvar code_1 = require(\"./codegen/code\"); // TODO refactor to use Set\n\n\nfunction toHash(arr) {\n  var hash = {};\n\n  var _iterator = _createForOfIteratorHelper(arr),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      hash[item] = true;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return hash;\n}\n\nexports.toHash = toHash;\n\nfunction alwaysValidSchema(it, schema) {\n  if (typeof schema == \"boolean\") return schema;\n  if (Object.keys(schema).length === 0) return true;\n  checkUnknownRules(it, schema);\n  return !schemaHasRules(schema, it.self.RULES.all);\n}\n\nexports.alwaysValidSchema = alwaysValidSchema;\n\nfunction checkUnknownRules(it) {\n  var schema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : it.schema;\n  var opts = it.opts,\n      self = it.self;\n  if (!opts.strictSchema) return;\n  if (typeof schema === \"boolean\") return;\n  var rules = self.RULES.keywords;\n\n  for (var key in schema) {\n    if (!rules[key]) checkStrictMode(it, \"unknown keyword: \\\"\".concat(key, \"\\\"\"));\n  }\n}\n\nexports.checkUnknownRules = checkUnknownRules;\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == \"boolean\") return !schema;\n\n  for (var key in schema) {\n    if (rules[key]) return true;\n  }\n\n  return false;\n}\n\nexports.schemaHasRules = schemaHasRules;\n\nfunction schemaHasRulesButRef(schema, RULES) {\n  if (typeof schema == \"boolean\") return !schema;\n\n  for (var key in schema) {\n    if (key !== \"$ref\" && RULES.all[key]) return true;\n  }\n\n  return false;\n}\n\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\n\nfunction schemaRefOrVal(_ref, schema, keyword, $data) {\n  var topSchemaRef = _ref.topSchemaRef,\n      schemaPath = _ref.schemaPath;\n\n  if (!$data) {\n    if (typeof schema == \"number\" || typeof schema == \"boolean\") return schema;\n    if (typeof schema == \"string\") return (0, codegen_1._)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\", \"\"])), schema);\n  }\n\n  return (0, codegen_1._)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\", \"\", \"\", \"\"])), topSchemaRef, schemaPath, (0, codegen_1.getProperty)(keyword));\n}\n\nexports.schemaRefOrVal = schemaRefOrVal;\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\nexports.unescapeFragment = unescapeFragment;\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\nexports.escapeFragment = escapeFragment;\n\nfunction escapeJsonPointer(str) {\n  if (typeof str == \"number\") return \"\".concat(str);\n  return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\n\nexports.escapeJsonPointer = escapeJsonPointer;\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\n\nexports.unescapeJsonPointer = unescapeJsonPointer;\n\nfunction eachItem(xs, f) {\n  if (Array.isArray(xs)) {\n    var _iterator2 = _createForOfIteratorHelper(xs),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var x = _step2.value;\n        f(x);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  } else {\n    f(xs);\n  }\n}\n\nexports.eachItem = eachItem;\n\nfunction makeMergeEvaluated(_ref2) {\n  var mergeNames = _ref2.mergeNames,\n      mergeToName = _ref2.mergeToName,\n      mergeValues = _ref2.mergeValues,\n      resultToName = _ref2.resultToName;\n  return function (gen, from, to, toName) {\n    var res = to === undefined ? from : to instanceof codegen_1.Name ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to) : from instanceof codegen_1.Name ? (mergeToName(gen, to, from), from) : mergeValues(from, to);\n    return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n  };\n}\n\nexports.mergeEvaluated = {\n  props: makeMergeEvaluated({\n    mergeNames: function mergeNames(gen, from, to) {\n      return gen.if((0, codegen_1._)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\", \" !== true && \", \" !== undefined\"])), to, from), function () {\n        gen.if((0, codegen_1._)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\", \" === true\"])), from), function () {\n          return gen.assign(to, true);\n        }, function () {\n          return gen.assign(to, (0, codegen_1._)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\", \" || {}\"])), to)).code((0, codegen_1._)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"Object.assign(\", \", \", \")\"])), to, from));\n        });\n      });\n    },\n    mergeToName: function mergeToName(gen, from, to) {\n      return gen.if((0, codegen_1._)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\", \" !== true\"])), to), function () {\n        if (from === true) {\n          gen.assign(to, true);\n        } else {\n          gen.assign(to, (0, codegen_1._)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\", \" || {}\"])), to));\n          setEvaluated(gen, to, from);\n        }\n      });\n    },\n    mergeValues: function mergeValues(from, to) {\n      return from === true ? true : _objectSpread(_objectSpread({}, from), to);\n    },\n    resultToName: evaluatedPropsToName\n  }),\n  items: makeMergeEvaluated({\n    mergeNames: function mergeNames(gen, from, to) {\n      return gen.if((0, codegen_1._)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\", \" !== true && \", \" !== undefined\"])), to, from), function () {\n        return gen.assign(to, (0, codegen_1._)(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\", \" === true ? true : \", \" > \", \" ? \", \" : \", \"\"])), from, to, from, to, from));\n      });\n    },\n    mergeToName: function mergeToName(gen, from, to) {\n      return gen.if((0, codegen_1._)(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\", \" !== true\"])), to), function () {\n        return gen.assign(to, from === true ? true : (0, codegen_1._)(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\", \" > \", \" ? \", \" : \", \"\"])), to, from, to, from));\n      });\n    },\n    mergeValues: function mergeValues(from, to) {\n      return from === true ? true : Math.max(from, to);\n    },\n    resultToName: function resultToName(gen, items) {\n      return gen.var(\"items\", items);\n    }\n  })\n};\n\nfunction evaluatedPropsToName(gen, ps) {\n  if (ps === true) return gen.var(\"props\", true);\n  var props = gen.var(\"props\", (0, codegen_1._)(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"{}\"]))));\n  if (ps !== undefined) setEvaluated(gen, props, ps);\n  return props;\n}\n\nexports.evaluatedPropsToName = evaluatedPropsToName;\n\nfunction setEvaluated(gen, props, ps) {\n  Object.keys(ps).forEach(function (p) {\n    return gen.assign((0, codegen_1._)(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"\", \"\", \"\"])), props, (0, codegen_1.getProperty)(p)), true);\n  });\n}\n\nexports.setEvaluated = setEvaluated;\nvar snippets = {};\n\nfunction useFunc(gen, f) {\n  return gen.scopeValue(\"func\", {\n    ref: f,\n    code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code))\n  });\n}\n\nexports.useFunc = useFunc;\nvar Type;\n\n(function (Type) {\n  Type[Type[\"Num\"] = 0] = \"Num\";\n  Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\n\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n  // let path\n  if (dataProp instanceof codegen_1.Name) {\n    var isNumber = dataPropType === Type.Num;\n    return jsPropertySyntax ? isNumber ? (0, codegen_1._)(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\\"[\\\" + \", \" + \\\"]\\\"\"])), dataProp) : (0, codegen_1._)(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\\\"['\\\" + \", \" + \\\"']\\\"\"])), dataProp) : isNumber ? (0, codegen_1._)(_templateObject17 || (_templateObject17 = _taggedTemplateLiteral([\"\\\"/\\\" + \", \"\"])), dataProp) : (0, codegen_1._)(_templateObject18 || (_templateObject18 = _taggedTemplateLiteral([\"\\\"/\\\" + \", \".replace(/~/g, \\\"~0\\\").replace(/\\\\//g, \\\"~1\\\")\"], [\"\\\"/\\\" + \", \".replace(/~/g, \\\"~0\\\").replace(/\\\\\\\\//g, \\\"~1\\\")\"])), dataProp); // TODO maybe use global escapePointer\n  }\n\n  return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\n\nexports.getErrorPath = getErrorPath;\n\nfunction checkStrictMode(it, msg) {\n  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : it.opts.strictSchema;\n  if (!mode) return;\n  msg = \"strict mode: \".concat(msg);\n  if (mode === true) throw new Error(msg);\n  it.self.logger.warn(msg);\n}\n\nexports.checkStrictMode = checkStrictMode;","map":{"version":3,"mappings":"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","names":["toHash","arr","hash","item","exports","alwaysValidSchema","it","schema","Object","keys","length","checkUnknownRules","schemaHasRules","self","RULES","all","opts","strictSchema","rules","keywords","key","checkStrictMode","schemaHasRulesButRef","schemaRefOrVal","keyword","$data","topSchemaRef","schemaPath","unescapeFragment","str","unescapeJsonPointer","decodeURIComponent","escapeFragment","encodeURIComponent","escapeJsonPointer","replace","eachItem","xs","f","Array","isArray","x","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","gen","from","to","toName","res","undefined","codegen_1","props","if","assign","code","setEvaluated","evaluatedPropsToName","items","Math","max","var","ps","forEach","p","snippets","useFunc","scopeValue","ref","code_1","Type","getErrorPath","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","toString","msg","mode","Error","logger","warn"],"sourceRoot":"","sources":["../../lib/compile/util.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}