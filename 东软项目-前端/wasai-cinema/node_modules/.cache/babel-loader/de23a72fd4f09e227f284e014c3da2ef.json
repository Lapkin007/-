{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      username: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    getLogin: function getLogin() {\n      var _this = this;\n\n      var LoginData = {\n        username: this.username,\n        password: this.password\n      };\n      this.$axios.post(this.$store.state.api_url = \"/api/user/login\", LoginData).then(function (res) {\n        if (res.data.code == 200) {\n          _this.$message({\n            message: \"登录成功\",\n            type: \"success\"\n          });\n\n          _this.$router.push(\"/\");\n        }\n      });\n      localStorage.setItem(\"token\", res.data.data.token);\n      localStorage.setItem(\"uid\", res.data.data.user.id);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACAA,MADA,kBACA;AACA;AACAC,kBADA;AAEAC;AAFA;AAIA,GANA;AAOAC;AACAC,YADA,sBACA;AAAA;;AACA;AACAH,+BADA;AAEAC;AAFA;AAIA,iFACAG,IADA,CACA,eACA;AACA;AACA;AAAAC;AAAAC;AAAA;;AACA;AACA;AACA,OAPA;AAQAC;AACAA;AACA;AAhBA;AAPA","names":["data","username","password","methods","getLogin","then","message","type","localStorage"],"sourceRoot":"src/views","sources":["login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n\r\n\r\n\r\n    <div class=\"login_info\">\r\n          <div class=\"login_title\">\r\n         <!-- 插入图片 -->\r\n         <img src=\"../assets/img/logo.png\" />\r\n          <div class=\"login_text\">哇塞电影-登录</div>\r\n      </div>\r\n\r\n\r\n\r\n    \r\n\r\n    <div class=\"login_form\">\r\n     <p>Username</p>\r\n     <el-input v-model=\"username\" placeholder=\"账号\"></el-input>\r\n     <p>Password</p>\r\n     <el-input v-model=\"password\" placeholder=\"密码\" show-password></el-input>\r\n\r\n    <div class=\"forget\">\r\n     <el-tooltip content=\"请联系管理员\" placement=\"bottom\" effect=\"dark\">\r\n         <el-link class=\"login_link\" :underline=\"false\">忘记密码</el-link>\r\n     </el-tooltip>\r\n     </div>\r\n\r\n     \r\n       <div class=\"btn\"><el-button class=\"login_button\" type=\"primary\">SIGN IN</el-button></div>\r\n    </div>\r\n\r\n     \r\n\r\n    <div class=\"login_footer\">\r\n     <el-link :underline=\"false\" class=\"rg\" href=\"#/register\">还没有账号？去注册<i class=\"el-icon-right\"></i></el-link>\r\n<br />\r\n     <el-link :underline=\"false\" class=\"rg\" href=\"#/\">返回首页<i class=\"el-icon-left\"></i></el-link>\r\n     </div>\r\n    </div>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script >\r\nexport default {\r\n   data(){\r\n       return{\r\n            username:\"\",\r\n            password:\"\",\r\n       }\r\n   },\r\n   methods:{\r\n       getLogin(){\r\n           const LoginData={\r\n               username:this.username,\r\n               password:this.password,\r\n           };\r\n           this.$axios.post(this.$store.state.api_url=\"/api/user/login\",LoginData)\r\n           .then((res)=>\r\n             {\r\n                 if(res.data.code==200){\r\n                     this.$message({message:\"登录成功\",type:\"success\"});\r\n                     this.$router.push(\"/\");\r\n                 }\r\n             });\r\n             localStorage.setItem(\"token\",res.data.data.token);\r\n             localStorage.setItem(\"uid\",res.data.data.user.id);\r\n           }\r\n       },\r\n   }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.login_title{\r\n    \r\n    height: 75px;\r\n}\r\n.login{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n.login_info{\r\n    width:500px;\r\n    margin:50px auto;\r\n}\r\n.login_title img{\r\n    width:75px;\r\n    height:75px;\r\n    float:left;\r\n    margin-left: 60px;\r\n}\r\n.login_text{\r\n    float: left;\r\n    line-height: 75px;\r\n    font-size:30px;\r\n    font-weight: bold;\r\n    margin-left:60px ;\r\n}\r\n.login_form{\r\n    padding: 50px;\r\n    padding-top: 30px;\r\n    margin-top: 100px;\r\n    font-size:16px;\r\n    color:#91949c;\r\n    font-weight: bold;\r\n    border-color: rgba(151, 151, 151, 0.3);\r\n    border-style: solid;\r\n    border-width: 2px;\r\n    border-radius: 50px;\r\n}\r\n.forget .login_link{\r\n    font-size:16px;\r\n    color:#91949c;\r\n    margin-top: 10px;\r\n}\r\n.login_button{\r\n    margin-top: 20px;\r\n    font-weight: bold;\r\n    width: 100%;\r\n    border-radius: 15px;\r\n}\r\n.login_footer{\r\n    height:50px;\r\n    line-height:50px;\r\n    text-align: center;\r\n    font-weight: bold;\r\n}\r\n.rg{\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n    margin-top: 35px;\r\n}\r\n.forget{\r\n    float: right;\r\n    \r\n}\r\n.btn{\r\n    clear: both;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}