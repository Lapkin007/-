{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { QueryFilmList } from \"@/api/film\";\nexport default {\n  data: function data() {\n    return {\n      selectType: '全部',\n      selectRegion: \"全部\",\n      typeList: [\"全部\", \"家庭\", \"惊悚\", \"科幻\", \"爱情\", \"动作\", \"喜剧\", \"恐怖\", \"悬疑\", \"犯罪\", \"冒险\", \"战争\", \"历史\", \"武侠\", \"传记\", \"古装\", \"其他\"],\n      regionList: [\"全部\", \"内地\", \"香港\", \"台湾\", \"美国\", \"韩国\", \"日本\", \"泰国\", \"印度\", \"法国\", \"英国\", \"德国\", \"其他\"],\n      movielist: [],\n      newmovielist: []\n    };\n  },\n  methods: {\n    //    点击标签刷新\n    tag_change: function tag_change() {\n      this.newmovielist = undefined;\n      console.log(this.newmovielist);\n      this.newmovielist = new Array();\n      console.log(this.newmovielist);\n    },\n    // 查询所有电影接口\n    CreateMovieList: function CreateMovieList() {\n      var _this = this;\n\n      QueryFilmList().then(function (res) {\n        if (res == 200) {\n          _this.movielist = res.data;\n        }\n      });\n    }\n  },\n  computed: {\n    //    筛选电影表的方法\n    FliterMovieList: function FliterMovieList() {\n      if (this.selectType == \"全部\" & this.selectRegion == \"全部\") {\n        for (var i = 0; i < this.movielist.length; i++) {\n          this.newmovielist.push(this.movielist[i]);\n        }\n      } else if (this.selectType != \"全部\" & this.selectRegion != \"全部\") {\n        for (var i = 0; i < this.movielist.length; i++) {\n          if (this.selectType == this.movielist[i].type & this.selectRegion == this.movielist[i].region) {\n            this.newmovielist.push(this.movielist[i]);\n          }\n        }\n      } else if (this.selectType == \"全部\" & this.selectRegion != \"全部\") {\n        for (var i = 0; i < this.movielist.length; i++) {\n          if (this.selectRegion == this.movielist[i].region) {\n            this.newmovielist.push(this.movielist[i]);\n          }\n        }\n      } else if (this.selectType != \"全部\" & this.selectRegion == \"全部\") {\n        for (var i = 0; i < this.movielist.length; i++) {\n          if (this.selectType == this.movielist[i].type) {\n            this.newmovielist.push(this.movielist[i]);\n          }\n        }\n      }\n\n      return this.newmovielist;\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    console.log(\"BeforeCreate\");\n    this.$store.state.navnum = 1;\n    this.$store.state.color2.color = \"blue\";\n    this.$store.state.color1.color = \"#5b5d63\";\n    this.$store.state.color3.color = \"#5b5d63\";\n    this.$store.state.color4.color = \"#5b5d63\";\n  },\n  mounted: function mounted() {\n    // 查询电影添加到MovieList\n    this.CreateMovieList();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACAA,MADA,kBACA;AACA;AACAC,sBADA;AAEAC,wBAFA;AAGAC,iBACA,IADA,EAEA,IAFA,EAGA,IAHA,EAIA,IAJA,EAKA,IALA,EAMA,IANA,EAOA,IAPA,EAQA,IARA,EASA,IATA,EAUA,IAVA,EAWA,IAXA,EAYA,IAZA,EAaA,IAbA,EAcA,IAdA,EAeA,IAfA,EAgBA,IAhBA,EAiBA,IAjBA,CAHA;AAsBAC,mBACA,IADA,EAEA,IAFA,EAGA,IAHA,EAIA,IAJA,EAKA,IALA,EAMA,IANA,EAOA,IAPA,EAQA,IARA,EASA,IATA,EAUA,IAVA,EAWA,IAXA,EAYA,IAZA,EAaA,IAbA,CAtBA;AAqCAC,mBArCA;AAsCAC;AAtCA;AAyCA,GA3CA;AA4CAC;AACA;AACAC,cAFA,wBAEA;AACA;AACAC;AACA;AACAA;AACA,KAPA;AAQA;AACAC,mBATA,6BASA;AAAA;;AACAC;AACA;AACA;AACA;AACA,OAJA;AAKA;AAfA,GA5CA;AA6DAC;AACA;AACAC;AACA;AACA,wDACA;AACA;AACA;AACA,OALA,MAMA;AACA,wDACA;AACA,yGACA;AACA;AACA;AACA;AACA,OARA,MASA;AACA,wDACA;AACA,6DACA;AACA;AACA;AACA;AACA,OARA,MASA;AACA,wDACA;AACA,yDACA;AACA;AACA;AACA;AACA;;AACA;AAEA;AAtCA,GA7DA;AAsGAC;AACAL;AACA;AACA;AACA;AAAA;AAAA;AACA,GA3GA;AA4GAM;AACA;AACA;AACA;AA/GA","names":["data","selectType","selectRegion","typeList","regionList","movielist","newmovielist","methods","tag_change","console","CreateMovieList","QueryFilmList","computed","FliterMovieList","beforeCreate","mounted"],"sourceRoot":"src/views","sources":["movie_page.vue"],"sourcesContent":["<template>\r\n  <div class=\"all\">\r\n    <el-container>\r\n        <!-- 标签部分 -->\r\n        <el-header>\r\n            <div class=\"tagbox\">\r\n                 <el-row class=\"tagrow\">\r\n                   <el-col :span=\"1\" >\r\n                <span style=\"margin-left:10px\">类型:</span>\r\n                   </el-col>\r\n                    <el-radio-group v-model=\"selectType\" class=\"tag\"  @change=\"tag_change()\">\r\n                <el-radio-button v-for=\"(item,index) in typeList\" :key=\"index\" :label=\"item\" class=\"tagRadiobutton\" border size=\"mini\" ></el-radio-button>\r\n                    </el-radio-group>\r\n                 </el-row>  \r\n             <el-row class=\"tagrow\">\r\n                 <el-col :span=\"1\" >\r\n                <span style=\"margin-left:10px\">地区:</span>\r\n                   </el-col>\r\n                   <el-radio-group v-model=\"selectRegion\" class=\"tag\"  @change=\"tag_change()\">\r\n                <el-radio-button v-for=\"(item,index) in regionList\" :key=\"index\" :label=\"item\" class=\"tagRadiobutton\" border size=\"mini\"></el-radio-button>\r\n                    </el-radio-group>\r\n             </el-row>\r\n            </div>\r\n        </el-header>\r\n        <!-- 标签部分结束 -->\r\n        <el-main>\r\n        <!-- 电影区 -->\r\n        <el-col :span=\"5\" v-for=\"(item,index) in FliterMovieList\" :key=\"index\" :offset=\"1\" style=\"margin-top:20px\">\r\n      <el-card :body-style=\"{ padding: '13px 0px' }\" style=\"margin-bottom:30px;height:330px\">\r\n      <img :src=\"item.cover\" style=\"width: 170px;height:250px\" alt=\"ERROR\" title=\"\"/>\r\n      <div style=\"padding: 5px;\">\r\n        <div class=\"movie_info\">\r\n           <div class=\"movie_info_inside\">{{item.name}}</div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </el-col>\r\n        <!-- 电影区结束 -->\r\n        </el-main>\r\n    </el-container>\r\n    \r\n\r\n\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {QueryFilmList} from \"@/api/film\"\r\nexport default {\r\n   data(){\r\n       return{\r\n           selectType:'全部',\r\n           selectRegion: \"全部\",\r\n            typeList: [\r\n        \"全部\",\r\n        \"家庭\",\r\n        \"惊悚\",\r\n        \"科幻\",\r\n        \"爱情\",\r\n        \"动作\",\r\n        \"喜剧\",\r\n        \"恐怖\",\r\n        \"悬疑\",\r\n        \"犯罪\",\r\n        \"冒险\",\r\n        \"战争\",\r\n        \"历史\",\r\n        \"武侠\",\r\n        \"传记\",\r\n        \"古装\",\r\n        \"其他\",\r\n      ],\r\n      regionList: [\r\n        \"全部\",\r\n        \"内地\",\r\n        \"香港\",\r\n        \"台湾\",\r\n        \"美国\",\r\n        \"韩国\",\r\n        \"日本\",\r\n        \"泰国\",\r\n        \"印度\",\r\n        \"法国\",\r\n        \"英国\",\r\n        \"德国\",\r\n        \"其他\",\r\n      ],\r\n      movielist:[],\r\n      newmovielist:[],\r\n       }\r\n       \r\n   },\r\n   methods:{\r\n    //    点击标签刷新\r\n        tag_change(){\r\n            this.newmovielist=undefined;\r\n            console.log(this.newmovielist);\r\n            this.newmovielist = new Array();\r\n            console.log(this.newmovielist);\r\n        },\r\n        // 查询所有电影接口\r\n        CreateMovieList(){\r\n            QueryFilmList().then((res)=>{\r\n                if(res==200){\r\n                    this.movielist=res.data;\r\n                }\r\n            })\r\n        }\r\n   },\r\n   computed: {\r\n    //    筛选电影表的方法\r\n\tFliterMovieList: function () {\r\n        if(this.selectType==\"全部\"&this.selectRegion==\"全部\"){\r\n            for(var i=0;i<this.movielist.length;i++)\r\n            {\r\n            this.newmovielist.push(this.movielist[i]);\r\n            }\r\n        }\r\n        else if(this.selectType!=\"全部\"&this.selectRegion!=\"全部\"){\r\n\t\tfor(var i=0;i<this.movielist.length;i++)\r\n        {\r\n        if(this.selectType==this.movielist[i].type&this.selectRegion==this.movielist[i].region)\r\n        {\r\n        this.newmovielist.push(this.movielist[i]);\r\n        }\r\n        }\r\n        }\r\n        else if(this.selectType==\"全部\"&this.selectRegion!=\"全部\"){\r\n\t\tfor(var i=0;i<this.movielist.length;i++)\r\n        {\r\n        if(this.selectRegion==this.movielist[i].region)\r\n        {\r\n        this.newmovielist.push(this.movielist[i]);\r\n        }\r\n        }\r\n        }\r\n        else if(this.selectType!=\"全部\"&this.selectRegion==\"全部\"){\r\n\t\tfor(var i=0;i<this.movielist.length;i++)\r\n        {\r\n        if(this.selectType==this.movielist[i].type)\r\n        {\r\n        this.newmovielist.push(this.movielist[i]);\r\n        }\r\n        }\r\n        }\r\n        return this.newmovielist;\r\n\r\n\t},\r\n\r\n    },\r\n   beforeCreate:function(){\r\n\t\t\tconsole.log(\"BeforeCreate\");\r\n            this.$store.state.navnum=1;\r\n            this.$store.state.color2.color=\"blue\";\r\n            this.$store.state.color1.color=\"#5b5d63\";this.$store.state.color3.color=\"#5b5d63\";this.$store.state.color4.color=\"#5b5d63\";\r\n\t\t},\r\n        mounted:function(){\r\n            // 查询电影添加到MovieList\r\n            this.CreateMovieList();\r\n        }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tagrow{\r\n   height: 50px;\r\n   line-height: 50px;\r\n   color:black;\r\n   font-size:14px;\r\n}\r\n.all{\r\n    width:100%;\r\n    height:100%;\r\n    text-align: center;\r\n}\r\n.tagbox{\r\n    position: relative;\r\n    width:1200px;\r\n    height:100px;\r\n    margin: 0px auto;\r\n    /* background-color: brown; */\r\n    padding: 0px;\r\n    \r\n}\r\n.tag{float:left;margin-left:10px;margin-top:5px}\r\n.tagRadiobutton{\r\n    width:65px;\r\n    \r\n}\r\n.el-header{\r\n    background-color: rgb(255, 255, 255);\r\n    color: honeydew;\r\n    min-height:100px;\r\n}\r\n.el-main{\r\n    margin: 0 auto;\r\n    /* background-color: blueviolet; */\r\n    color: honeydew;\r\n    width:1300px;\r\n}\r\n/* 电影区 */\r\n.image {\r\n    width: 100%;\r\n    display: block;\r\n  }\r\n  .showTagName{\r\n    display:none;width:170px;height:30px;position:relative;top:-39px;color:white;background-color:rgba(1, 1,1, 0.3);\r\n  }\r\n  .el-col:hover div span{\r\n    display: inline-block;\r\n  }\r\n  .movie_info_inside{margin-top:0px;width:250px;color:black;font-size:19px;text-align:center;position:relative;}\r\n</style>"]},"metadata":{},"sourceType":"module"}