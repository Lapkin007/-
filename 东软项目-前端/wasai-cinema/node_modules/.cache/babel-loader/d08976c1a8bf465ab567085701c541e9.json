{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      //撤销通知\n      dialogCancleVisible: false,\n      // 异常上报通知\n      form_index: -1,\n      formLabelWidth: '90px',\n      dialogFormVisible: false,\n      form: {\n        name: '',\n        reason: ''\n      },\n      //测试用展开后电影数据\n      order_detail: [{\n        order_id: \"123\",\n        user_id: \"12321321\",\n        movie_id: \"ji33232\",\n        arrn_id: \"ucbbr1\",\n        movie_name: \"刺杀小说家\",\n        seat_no: \"14\",\n        order_cost: 232,\n        order_time: \"12:00\",\n        pay_time: \"13:00\"\n      }, {\n        order_id: \"123\",\n        user_id: \"12321321\",\n        movie_id: \"ji33232\",\n        arrn_id: \"ucbbr1\",\n        movie_name: \"狮子王\",\n        seat_no: \"14\",\n        order_cost: 232,\n        order_time: \"12:00\",\n        pay_time: \"13:00\"\n      }, {\n        order_id: \"123\",\n        user_id: \"12321321\",\n        movie_id: \"ji33232\",\n        arrn_id: \"ucbbr1\",\n        movie_name: \"天气之子\",\n        seat_no: \"14\",\n        order_cost: 232,\n        order_time: \"12:00\",\n        pay_time: \"13:00\"\n      }],\n      // 测试用\n      activeNames: [],\n      //测试用列表\n      testlist: [{\n        id: \"1343-2341-2323-9212\",\n        money: 40,\n        statue: \"已被撤销\",\n        order_id: \"123\",\n        user_id: \"12321321\",\n        movie_id: \"ji33232\",\n        arrn_id: \"ucbbr1\",\n        movie_name: \"刺杀小说家\",\n        seat_no: \"14\",\n        order_cost: 232,\n        order_time: \"12:00\",\n        pay_time: \"13:00\"\n      }, {\n        id: \"2332-2321-2122-8743\",\n        money: 60,\n        statue: \"支付成功\",\n        order_id: \"123\",\n        user_id: \"12321321\",\n        movie_id: \"ji33232\",\n        arrn_id: \"ucbbr1\",\n        movie_name: \"狮子王\",\n        seat_no: \"14\",\n        order_cost: 232,\n        order_time: \"12:00\",\n        pay_time: \"13:00\"\n      }, {\n        id: \"7632-2181-9522-8000\",\n        money: 70,\n        statue: \"等待支付\",\n        order_id: \"123\",\n        user_id: \"12321321\",\n        movie_id: \"ji33232\",\n        arrn_id: \"ucbbr1\",\n        movie_name: \"天气之子\",\n        seat_no: \"14\",\n        order_cost: 232,\n        order_time: \"12:00\",\n        pay_time: \"13:00\"\n      }],\n      //订单状态样式\n      cancled: {\n        cancle: true,\n        pay: false,\n        wait: false,\n        fail: false\n      },\n      paid: {\n        cancle: false,\n        pay: true,\n        wait: false,\n        fail: false\n      },\n      waited: {\n        cancle: false,\n        pay: false,\n        wait: true,\n        fail: false\n      },\n      failed: {\n        cancle: false,\n        pay: false,\n        wait: false,\n        fail: true\n      }\n    };\n  },\n  methods: {\n    //更改状态显示样式\n    changeOrderCss: function changeOrderCss(item) {\n      if (item.statue == \"已被撤销\") {\n        return this.cancled;\n      }\n\n      if (item.statue == \"支付成功\") {\n        return this.paid;\n      }\n\n      if (item.statue == \"等待支付\") {\n        return this.waited;\n      }\n\n      if (item.statue == \"异常订单\") {\n        return this.failed;\n      }\n    },\n    //撤销按钮和确认\n    Operation_CancleOrder: function Operation_CancleOrder(index) {\n      this.dialogCancleVisible = true;\n      this.form_index = index;\n    },\n    Operation_CancleOrder_confirm: function Operation_CancleOrder_confirm(index) {\n      this.testlist[index].statue = \"已被撤销\";\n      this.dialogCancleVisible = false;\n    },\n    //上报按钮和通知\n    Operation_FailOrder: function Operation_FailOrder(index) {\n      this.dialogFormVisible = true;\n      this.form_index = index;\n    },\n    Operation_FailOrder_confirm: function Operation_FailOrder_confirm(index) {\n      this.testlist[index].statue = \"异常订单\";\n      this.dialogFormVisible = false;\n    },\n    changePad: function changePad(n) {\n      if (this.activeNames.indexOf(n) == -1) {\n        this.activeNames.push(n);\n      } else {\n        this.activeNames.pop(n);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACAA,MADA,kBACA;AACA;AACA;AACAC,gCAFA;AAGA;AACAC,oBAJA;AAKAC,4BALA;AAMAC,8BANA;AAOAC;AACAC,gBADA;AAEAC;AAFA,OAPA;AAWA;AACAC,qBACA;AACAC,uBADA;AAEAC,2BAFA;AAGAC,2BAHA;AAIAC,yBAJA;AAKAC,2BALA;AAMAC,qBANA;AAOAC,uBAPA;AAQAC,2BARA;AASAC;AATA,OADA,EAYA;AACAR,uBADA;AAEAC,2BAFA;AAGAC,2BAHA;AAIAC,yBAJA;AAKAC,yBALA;AAMAC,qBANA;AAOAC,uBAPA;AAQAC,2BARA;AASAC;AATA,OAZA,EAuBA;AACAR,uBADA;AAEAC,2BAFA;AAGAC,2BAHA;AAIAC,yBAJA;AAKAC,0BALA;AAMAC,qBANA;AAOAC,uBAPA;AAQAC,2BARA;AASAC;AATA,OAvBA,CAZA;AA+CA;AACAC,qBAhDA;AAiDA;AACAC,iBACA;AAAAC;AACAC,iBADA;AAEAC,sBAFA;AAGAb,uBAHA;AAIAC,2BAJA;AAKAC,2BALA;AAMAC,yBANA;AAOAC,2BAPA;AAQAC,qBARA;AASAC,uBATA;AAUAC,2BAVA;AAWAC;AAXA,OADA,EAcA;AAAAG;AACAC,iBADA;AAEAC,sBAFA;AAGAb,uBAHA;AAIAC,2BAJA;AAKAC,2BALA;AAMAC,yBANA;AAOAC,yBAPA;AAQAC,qBARA;AASAC,uBATA;AAUAC,2BAVA;AAWAC;AAXA,OAdA,EA2BA;AAAAG;AACAC,iBADA;AAEAC,sBAFA;AAGAb,uBAHA;AAIAC,2BAJA;AAKAC,2BALA;AAMAC,yBANA;AAOAC,0BAPA;AAQAC,qBARA;AASAC,uBATA;AAUAC,2BAVA;AAWAC;AAXA,OA3BA,CAlDA;AA2FA;AACAM;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OA5FA;AA6FAC;AAAAJ;AAAAC;AAAAC;AAAAC;AAAA,OA7FA;AA8FAE;AAAAL;AAAAC;AAAAC;AAAAC;AAAA,OA9FA;AA+FAG;AAAAN;AAAAC;AAAAC;AAAAC;AAAA;AA/FA;AAiGA,GAnGA;AAoGAI;AACA;AACAC;AACA;AAAA;AAAA;;AACA;AAAA;AAAA;;AACA;AAAA;AAAA;;AACA;AAAA;AAAA;AACA,KAPA;AAQA;AACAC;AACA;AACA;AACA,KAZA;AAaAC;AACA;AACA;AACA,KAhBA;AAiBA;AACAC;AACA;AACA;AACA,KArBA;AAsBAC;AACA;AACA;AACA,KAzBA;AA0BAC;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA;AACA;AAjCA;AApGA","names":["data","dialogCancleVisible","form_index","formLabelWidth","dialogFormVisible","form","name","reason","order_detail","order_id","user_id","movie_id","arrn_id","movie_name","seat_no","order_cost","order_time","pay_time","activeNames","testlist","id","money","statue","cancled","cancle","pay","wait","fail","paid","waited","failed","methods","changeOrderCss","Operation_CancleOrder","Operation_CancleOrder_confirm","Operation_FailOrder","Operation_FailOrder_confirm","changePad"],"sourceRoot":"src/views/admin_panel","sources":["admin_order_manage.vue"],"sourcesContent":["<template>\r\n  <div class=\"outbox\">\r\n    <!-- 头部显示栏 -->\r\n      <div class=\"header\">\r\n        <el-row>\r\n          <el-col span=\"7\" class=\"header-item\" >订单ID</el-col>\r\n          <el-col span=\"4\" class=\"header-item\" style=\"padding-left:15px\" >订单金额</el-col>\r\n          <el-col span=\"3\" class=\"header-item\" style=\"padding-left:40px\">订单状态</el-col>\r\n          <el-col span=\"10\" class=\"header-item\" style=\"padding-left:170px\">操作</el-col>\r\n        </el-row>\r\n      </div>\r\n    <!-- 循环显示订单信息栏位-测试用-->\r\n      <!-- <div class=\"order-box\" :key=\"index\" v-for=\"(item,index) in testlist\">\r\n        <el-row>\r\n          <el-col span=\"8\" class=\"order-box-item1\" >{{item.id}}</el-col>\r\n          <el-col span=\"4\" class=\"order-box-item1\" >{{item.money}}</el-col>\r\n          <el-col span=\"6\" class=\"order-box-item2\" ><div :class=\"changeOrderCss(item)\">{{item.statue}}</div></el-col>\r\n          <el-col span=\"6\" class=\"order-box-item3\" ><el-button class=\"wait1\" @click=\"Operation_CancleOrder(index)\">撤销订单</el-button> &nbsp; <el-button class=\"fail1\" @click=\"Operation_FailOrder(index)\">上报异常</el-button></el-col>\r\n        </el-row>\r\n      </div> -->\r\n  <!-- 折叠面板 -->\r\n  <el-collapse v-model=\"activeNames\">\r\n  <el-collapse-item  :name=\"index\" disabled :key=\"index\" v-for=\"(item,index) in testlist\" style=\"border-bottom:1px solid black;\">\r\n    <template slot=\"title\">\r\n    <el-row style=\"background-color:white;width: 1800px;height: 48px;\">\r\n         <el-col span=\"8\" class=\"order-box-item1\">{{item.id}}</el-col>\r\n         <el-col span=\"4\" class=\"order-box-item1\">{{item.money}}</el-col>\r\n         <el-col span=\"4\" class=\"order-box-item2\"><div :class=\"changeOrderCss(item)\">{{item.statue}}</div></el-col>\r\n         <el-col span=\"8\" class=\"order-box-item3\">\r\n           <el-button class=\"wait1\" @click=\"Operation_CancleOrder(index)\">撤销订单</el-button>\r\n           <el-button class=\"fail1\" @click=\"Operation_FailOrder(index)\">上报异常</el-button>\r\n           <el-button class=\"PadButton\" @click=\"changePad(index)\">展开收起</el-button>\r\n         </el-col>\r\n        </el-row>\r\n        <!-- 折叠的面板内容,这里用来显示详细信息 -->\r\n    </template>\r\n    <div class=\"collapse-panel-item\">订单ID:{{item.order_id}}</div>\r\n    <div class=\"collapse-panel-item\">用户ID:{{item.user_id}}</div>\r\n    <div class=\"collapse-panel-item\">电影ID:{{item.movie_id}}</div>\r\n    <div class=\"collapse-panel-item\">场次ID:{{item.arrn_id}}</div>\r\n    <div class=\"collapse-panel-item\">电影名:{{item.movie_name}}</div>\r\n    <div class=\"collapse-panel-item\">座位号:{{item.seat_no}}</div>\r\n    <div class=\"collapse-panel-item\">订单金额:{{item.order_cost}}</div>\r\n    <div class=\"collapse-panel-item\">下单时间:{{item.order_time}}</div>\r\n    <div class=\"collapse-panel-item\">支付时间:{{item.pay_time}}</div>\r\n  </el-collapse-item>\r\n</el-collapse>\r\n<!-- 异常上报通知面板 -->\r\n<el-dialog title=\"异常上报\" :visible.sync=\"dialogFormVisible\">\r\n  <el-form :model=\"form\">\r\n    <el-form-item label=\"上报人\" :label-width=\"formLabelWidth\">\r\n      <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"上报原因\" :label-width=\"formLabelWidth\">\r\n       <el-input v-model=\"form.reason\" autocomplete=\"off\"></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n  <div slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"Operation_FailOrder_confirm(form_index)\">确 定</el-button>\r\n  </div>\r\n</el-dialog>\r\n<!-- 撤销确认通知面板 -->\r\n<el-dialog title=\"撤销确认\" :visible.sync=\"dialogCancleVisible\">\r\n  确认撤销此订单吗\r\n  <div slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"dialogCancleVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"Operation_CancleOrder_confirm(form_index)\">确 定</el-button>\r\n  </div>\r\n</el-dialog>\r\n<!-- 底部 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      //撤销通知\r\n      dialogCancleVisible: false,\r\n      // 异常上报通知\r\n       form_index:-1,\r\n       formLabelWidth: '90px',\r\n       dialogFormVisible: false,\r\n        form: {\r\n          name: '',\r\n          reason:'',\r\n        },\r\n        //测试用展开后电影数据\r\n        order_detail:[\r\n          {\r\n            order_id:\"123\",\r\n            user_id:\"12321321\",\r\n            movie_id:\"ji33232\",\r\n            arrn_id:\"ucbbr1\",\r\n            movie_name:\"刺杀小说家\",\r\n            seat_no:\"14\",\r\n            order_cost:232,\r\n            order_time:\"12:00\",\r\n            pay_time:\"13:00\",\r\n          },\r\n          {\r\n            order_id:\"123\",\r\n            user_id:\"12321321\",\r\n            movie_id:\"ji33232\",\r\n            arrn_id:\"ucbbr1\",\r\n            movie_name:\"狮子王\",\r\n            seat_no:\"14\",\r\n            order_cost:232,\r\n            order_time:\"12:00\",\r\n            pay_time:\"13:00\",\r\n          },\r\n          {\r\n            order_id:\"123\",\r\n            user_id:\"12321321\",\r\n            movie_id:\"ji33232\",\r\n            arrn_id:\"ucbbr1\",\r\n            movie_name:\"天气之子\",\r\n            seat_no:\"14\",\r\n            order_cost:232,\r\n            order_time:\"12:00\",\r\n            pay_time:\"13:00\",\r\n          },\r\n        ],\r\n      // 测试用\r\n      activeNames: [],\r\n      //测试用列表\r\n        testlist:[\r\n          {id:\"1343-2341-2323-9212\",\r\n           money:40,\r\n           statue:\"已被撤销\",\r\n           order_id:\"123\",\r\n            user_id:\"12321321\",\r\n            movie_id:\"ji33232\",\r\n            arrn_id:\"ucbbr1\",\r\n            movie_name:\"刺杀小说家\",\r\n            seat_no:\"14\",\r\n            order_cost:232,\r\n            order_time:\"12:00\",\r\n            pay_time:\"13:00\",\r\n           },\r\n          {id:\"2332-2321-2122-8743\",\r\n           money:60,\r\n           statue:\"支付成功\",\r\n           order_id:\"123\",\r\n            user_id:\"12321321\",\r\n            movie_id:\"ji33232\",\r\n            arrn_id:\"ucbbr1\",\r\n            movie_name:\"狮子王\",\r\n            seat_no:\"14\",\r\n            order_cost:232,\r\n            order_time:\"12:00\",\r\n            pay_time:\"13:00\",\r\n           },\r\n           {id:\"7632-2181-9522-8000\",\r\n           money:70,\r\n           statue:\"等待支付\",\r\n           order_id:\"123\",\r\n            user_id:\"12321321\",\r\n            movie_id:\"ji33232\",\r\n            arrn_id:\"ucbbr1\",\r\n            movie_name:\"天气之子\",\r\n            seat_no:\"14\",\r\n            order_cost:232,\r\n            order_time:\"12:00\",\r\n            pay_time:\"13:00\",\r\n           },\r\n        ],\r\n        //订单状态样式\r\n           cancled:{cancle:true,pay:false,wait:false,fail:false},\r\n           paid:{cancle:false,pay:true,wait:false,fail:false},\r\n           waited:{cancle:false,pay:false,wait:true,fail:false},\r\n           failed:{cancle:false,pay:false,wait:false,fail:true},\r\n    }\r\n  },\r\n  methods:{\r\n    //更改状态显示样式\r\n    changeOrderCss:function(item){\r\n          if(item.statue==\"已被撤销\"){return this.cancled}\r\n          if(item.statue==\"支付成功\"){return this.paid}\r\n          if(item.statue==\"等待支付\"){return this.waited}\r\n          if(item.statue==\"异常订单\"){return this.failed}\r\n      },\r\n      //撤销按钮和确认\r\n    Operation_CancleOrder:function(index){\r\n      this.dialogCancleVisible=true;\r\n      this.form_index=index;\r\n    },\r\n    Operation_CancleOrder_confirm:function(index){\r\n      this.testlist[index].statue=\"已被撤销\";\r\n      this.dialogCancleVisible = false;\r\n    },\r\n    //上报按钮和通知\r\n    Operation_FailOrder:function(index){\r\n      this.dialogFormVisible=true;\r\n      this.form_index=index;\r\n    },\r\n    Operation_FailOrder_confirm:function(index){\r\n      this.testlist[index].statue=\"异常订单\";\r\n      this.dialogFormVisible = false;\r\n    },\r\n    changePad:function(n){\r\n      if(this.activeNames.indexOf(n)==-1){\r\n        this.activeNames.push(n);\r\n      }\r\n       else{\r\n         this.activeNames.pop(n);\r\n       }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.outbox{\r\n  overflow: auto;\r\n  background-color: aqua;\r\n  height:760px;\r\n}\r\n/* 头部栏 */\r\n.header-item{\r\n  background-color:red;text-align:left;height: 50px;line-height: 50px;font-size: 20px;\r\n  font-weight: 600 !important;\r\n}\r\n.order-box{\r\n  border-bottom-color:aquamarine;height: 50px;text-align: center;font-size: 16px;line-height: 50px;\r\n  padding-bottom:5px;\r\n  border-bottom:1px solid black;\r\n}\r\n/* 按钮样式 */\r\n.pay{\r\n    margin-top:10px;\r\n    height:30px;\r\n    text-align: center;\r\n    display:inline-block;\r\n    border: 1px solid green;\r\n    color: green;\r\n    line-height: 30px;\r\n    width:80px;\r\n    margin: 0,auto;\r\n    border-radius: 5px;\r\n    background-color: rgb(111, 226, 146);\r\n}\r\n.cancle{\r\n    margin-top:10px;\r\n    height:30px;\r\n    text-align: center;\r\n    display:inline-block;\r\n    border: 1px solid rgb(189, 124, 2);\r\n    color: rgb(196, 130, 7);\r\n    line-height: 30px;\r\n    width:80px;\r\n    margin: 0,auto;\r\n    background-color: rgb(252, 188, 69);\r\n    border-radius: 5px;\r\n}\r\n.wait{\r\n    margin-top:10px;\r\n    height:30px;\r\n    text-align: center;\r\n    display:inline-block;\r\n    border: 1px solid blue;\r\n    color: blue;\r\n    line-height: 30px;\r\n    width:80px;\r\n    margin: 0,auto;\r\n    border-radius: 5px;\r\n    background-color: rgb(114, 187, 247);\r\n}\r\n.fail{margin-top:10px;\r\n    height:30px;\r\n    text-align: center;\r\n    display:inline-block;\r\n    border: 1px solid rgb(182, 0, 0);\r\n    color: rgb(218, 15, 0);\r\n    line-height: 30px;\r\n    width:80px;\r\n    margin: 0,auto;\r\n    border-radius: 5px;\r\n    background-color: rgb(245, 122, 122);}\r\n  .wait1{\r\n    margin-top:7px;\r\n    text-align: center;\r\n    display:inline-block;\r\n    border: 1px solid blue;\r\n    color: blue;\r\n    border-radius: 5px;\r\n    background-color: rgb(114, 187, 247);\r\n    height:35px;\r\n    \r\n    \r\n}\r\n.fail1{\r\n    height:35px;\r\n    text-align: center;\r\n    display:inline-block;\r\n    border: 1px solid rgb(182, 0, 0);\r\n    color: rgb(218, 15, 0);\r\n    border-radius: 5px;\r\n    background-color: rgb(245, 122, 122);}\r\n    /* 折叠面板 */\r\n    .order-box-item1{\r\n      color:black;\r\n      font-size:18px;\r\n    }\r\n    .PadButton{\r\n    height:35px;\r\n    text-align: center;\r\n    display:inline-block;\r\n    border: 1px solid rgb(68, 68, 68);\r\n    color: rgb(0, 0, 0);\r\n    border-radius: 5px;\r\n    background-color: rgb(238, 238, 238);\r\n    margin-left:90px !important;\r\n    }\r\n    /* 折叠板展开后的 */\r\n    .collapse-panel-item{\r\n        text-indent:2em;font-size:14px\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}