{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { QueryActivityList } from \"@/api/activity\";\nexport default {\n  data: function data() {\n    return {\n      activities: []\n    };\n  },\n  methods: {\n    //  查看是否登录\n    isLogin: function isLogin(a) {\n      var _this = this;\n\n      if (localStorage.getItem(\"uid\") == null) {\n        this.$confirm('未检测到登录', '提示', {\n          confirmButtonText: '去登陆',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this.$router.push(\"/login\");\n        });\n      } else {\n        this.$message({\n          type: 'success',\n          message: '活动报名成功'\n        });\n      }\n    },\n    // 查看活动列表\n    QueryActivity: function QueryActivity() {\n      var _this2 = this;\n\n      QueryActivityList().then(function (res) {\n        if (res.code == 200) {\n          _this2.activities = res.data;\n        }\n      });\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    console.log(\"BeforeCreate\");\n    this.$store.state.navnum = 2;\n    this.$store.state.color3.color = \"blue\";\n    this.$store.state.color1.color = \"#5b5d63\";\n    this.$store.state.color2.color = \"#5b5d63\";\n    this.$store.state.color4.color = \"#5b5d63\";\n  },\n  mounted: function mounted() {\n    //查询活动列表并生成到this.activities\n    QueryActivity();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;AAgBA;AACA;AACAA,MADA,kBACA;AACA;AACAC;AADA;AAGA,GALA;AAMAC;AACA;AACAC,WAFA,mBAEAC,CAFA,EAEA;AAAA;;AACA;AACA;AACAC,kCADA;AAEAC,gCAFA;AAGAC;AAHA,WAIAC,IAJA,CAIA;AACA;AACA,SANA;AAMA,OAPA,MAQA;AACA;AACAD,yBADA;AAEAE;AAFA;AAIA;AAEA,KAlBA;AAoBA;AAEAC,iBAtBA,2BAsBA;AAAA;;AACAC;AACA;AACA;AACA;AACA,OAJA;AAKA;AA5BA,GANA;AAuCAC;AACAC;AACA;AACA;AACA;AAAA;AAAA;AACA,GA5CA;AA6CAC;AACA;AACAJ;AACA;AAhDA","names":["data","activities","methods","isLogin","a","confirmButtonText","cancelButtonText","type","then","message","QueryActivity","QueryActivityList","beforeCreate","console","mounted"],"sourceRoot":"src/views","sources":["activities.vue"],"sourcesContent":["<template>\r\n  <div class=\"activities_box\">\r\n  <el-timeline>\r\n    <el-timeline-item v-for=\"(item,index) in activities\" v-bind:key=\"index\"  placement=\"top\">\r\n      <p style=\"color:gray;margin-top:-10px\">{{item.startTime}}</p>\r\n      <el-card>\r\n        <h3 ><strong>活动简述:{{item.content}}</strong></h3>\r\n        <p style=\"color:gray\">活动结束时间{{item.endTime}}</p>\r\n        <el-link :underline=\"false\" style=\"color:rgb(0, 132, 255)\" @click=\" isLogin(item)\">报名参加</el-link>\r\n      </el-card>\r\n    </el-timeline-item>\r\n  </el-timeline>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {QueryActivityList} from \"@/api/activity\"\r\nexport default {\r\n   data(){\r\n       return{\r\n           activities:[],\r\n       }\r\n   },\r\n   methods:{\r\n    //  查看是否登录\r\n      isLogin(a) {\r\n        if(localStorage.getItem(\"uid\")==null){\r\n        this.$confirm('未检测到登录', '提示', {\r\n          confirmButtonText: '去登陆',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push(\"/login\");\r\n        });}\r\n        else{\r\n          this.$message({\r\n            type: 'success',\r\n            message: '活动报名成功'\r\n          }); \r\n        }\r\n\r\n        },\r\n\r\n      // 查看活动列表\r\n\r\n      QueryActivity(){\r\n        QueryActivityList().then((res)=>{\r\n          if(res.code==200){\r\n            this.activities=res.data;\r\n          }\r\n        })\r\n      }\r\n      \r\n\r\n\r\n   },\r\n   beforeCreate:function(){\r\n\t\t\tconsole.log(\"BeforeCreate\");\r\n            this.$store.state.navnum=2;\r\n            this.$store.state.color3.color=\"blue\";\r\n            this.$store.state.color1.color=\"#5b5d63\";this.$store.state.color2.color=\"#5b5d63\";this.$store.state.color4.color=\"#5b5d63\";\r\n\t\t},\r\n   mounted:function(){\r\n     //查询活动列表并生成到this.activities\r\n     QueryActivity();\r\n   }\r\n}\r\n</script>\r\n\r\n<style>\r\n.activities_box{\r\n    width: 1300px;\r\n    position: relative;\r\n    margin: 30px auto;\r\n    \r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}