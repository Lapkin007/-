{"ast":null,"code":"import _defineProperty from \"E:/DW/wasai-cinema/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      //控制评分框显示\n      rate_visible: false,\n      //控制排片表显示\n      film_visible: true\n    }, _defineProperty(_ref, \"rate_visible\", false), _defineProperty(_ref, \"form_comment\", {\n      content: \"\",\n      comment_rate: 0\n    }), _defineProperty(_ref, \"value\", 3.7), _defineProperty(_ref, \"filmlist\", [{\n      filmname: \"刺杀小说家\",\n      price: 30,\n      date: \"2021-02-21 15:25:00\",\n      tag: \"动作\"\n    }, {\n      filmname: \"日不落酒店\",\n      price: 40,\n      date: \"2021-02-22 15:25:00\",\n      tag: \"喜剧\"\n    }, {\n      filmname: \"狮子王\",\n      price: 50,\n      date: \"2021-01-12 15:25:00\",\n      tag: \"3D\"\n    }, {\n      price: 60,\n      filmname: \"唐人街探案\",\n      date: \"2021-03-12 15:25:00\",\n      tag: \"大陆\"\n    }]), _defineProperty(_ref, \"new_film_list\", []), _ref;\n  },\n  methods: {\n    load: function load() {\n      this.count += 2;\n    },\n    isLogin: function isLogin(a) {\n      var _this = this;\n\n      if (this.$store.state.islogin == false) {\n        this.$confirm('未检测到登录', '提示', {\n          confirmButtonText: '去登陆',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this.$router.push(\"/login\");\n        });\n      }\n    },\n    preload: function preload() {\n      console.log(this.new_film_list);\n      this.new_film_list = undefined;\n      this.new_film_list = new Array();\n      console.log(this.new_film_list);\n    }\n  },\n  create: function create() {\n    this.new_film_list = undefined;\n    this.new_film_list = new Array();\n    console.log(\"BeforeTicketCreate\");\n\n    for (var i = 0; i < this.filmlist[i]; i++) {\n      if (this.filmlist[i].filmname == this.$store.state.SelectFilm.film_name) {\n        this.new_film_list.push(this.filmlist[i]);\n      }\n    }\n\n    console.log(this.new_film_list);\n\n    if (this.new_film_list.length == 0) {\n      film_visible = false;\n    }\n\n    ;\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACAA,MADA,kBACA;AAAA;;AACA;AACA;AACAC,yBAFA;AAGA;AACAC;AAJA,6CAMA,KANA,yCAOA;AAAAC;AAAAC;AAAA,KAPA,kCAQA,GARA,qCASA,CACA;AACAC,uBADA;AAEAC,eAFA;AAGAC,iCAHA;AAIAC;AAJA,KADA,EAOA;AACAH,uBADA;AAEAC,eAFA;AAGAC,iCAHA;AAIAC;AAJA,KAPA,EAaA;AACAH,qBADA;AAEAC,eAFA;AAGAC,iCAHA;AAIAC;AAJA,KAbA,EAmBA;AACAF,eADA;AAEAD,uBAFA;AAGAE,iCAHA;AAIAC;AAJA,KAnBA,CATA,0CAqCA,EArCA;AAwCA,GA1CA;AA2CAC;AACAC,QADA,kBACA;AACA;AACA,KAHA;AAIAC,WAJA,mBAIAC,CAJA,EAIA;AAAA;;AACA;AACA;AACAC,kCADA;AAEAC,gCAFA;AAGAC;AAHA,WAIAC,IAJA,CAIA;AACA;AACA,SANA;AAMA;AACA,KAbA;AAcAC,WAdA,qBAcA;AACAC;AACA;AACA;AACAA;AACA;AAnBA,GA3CA;AAgEAC;AACA;AACA;AACAD;;AACA,+CACA;AACA,+EACA;AACA;AACA;AACA;;AACAA;;AACA;AAAAhB;AAAA;;AAAA;AACA;AA7EA","names":["data","rate_visible","film_visible","content","comment_rate","filmname","price","date","tag","methods","load","isLogin","a","confirmButtonText","cancelButtonText","type","then","preload","console","create"],"sourceRoot":"src/views","sources":["ticket.vue"],"sourcesContent":["<template>\r\n  <div class=\"all\">\r\n      <el-container>\r\n          <!-- 上半 -->\r\n          <!-- 上方电影图片及按钮 -->\r\n         <el-header>\r\n             <div class=\"film_info\">\r\n              <img style=\"width: 240px;height:350px;float:left\" src=\"../assets/filmImg/error.gif\" />\r\n               <div class=\"film_detail_info_box\">\r\n              <h2 class=\"film_detail_name\">XXXXX</h2>\r\n              <el-rate v-model=\"value\" disabled show-score text-color=\"#ff9900\" score-template=\"{value}\" class=\"rate\"></el-rate>\r\n              <span class=\"info_text1\">电影类型：&nbsp; </span>\r\n              <span class=\"info_text1\">地区:/时长:&nbsp; </span>\r\n              <span class=\"info_text1\">上映日期：&nbsp; </span>\r\n              <!-- 购票按钮 -->\r\n              \r\n              <el-button class=\"btn\" disabled>特惠购票</el-button>\r\n              <!-- 评分按钮 -->\r\n              <el-button class=\"btn\" @click=\"rate_visible = true;isLogin()\">评分</el-button>\r\n               <el-dialog title=\"电影评分\" :visible.sync=\"rate_visible\" width=\"50%\"  >\r\n               <el-form :model=\"form_comment\">\r\n                   <el-form-item label=\"\" >\r\n                   <el-rate v-model=\"form_comment.comment_rate\" show-score text-color=\"#ff9900\"></el-rate>\r\n                   </el-form-item>\r\n                <el-form-item label=\"\" >\r\n               <el-input v-model=\"form_comment.content\" autocomplete=\"off\" type=\"textarea\" maxlength=\"20\" show-word-limit :autosize=\"{ minRows: 10, maxRows: 10}\"\r\n                 placeholder=\"请输入内容\"></el-input>\r\n               </el-form-item>\r\n               </el-form>\r\n               <span slot=\"footer\" class=\"dialog-footer\">\r\n               <el-button @click=\"rate_visible = false\">取 消</el-button>\r\n               <el-button type=\"primary\" @click=\"rate_visible = false\">确认提交</el-button>\r\n               </span>\r\n               </el-dialog>\r\n               </div>\r\n             </div>\r\n         </el-header>\r\n         <!-- 上半结束 -->\r\n\r\n         <!-- 间幕不要动 -->\r\n         <el-link icon=\"el-icon-back\" href=history.go(-1) :underline=\"false\" style=\"margin-bottom:10px;display:block;font-size:16px;width:100px;margin-left:350px;margin-top:60px\">返回</el-link>\r\n\r\n         <!-- 间幕结束 -->\r\n          <h1 style=\"text-align:left;color:black;margin-left:400px\">电影购票</h1>\r\n         <!-- 下半 -->\r\n         <el-main>\r\n              <!-- 剧情简介结束 -->\r\n\r\n\r\n             <!-- 电影排片 -->\r\n             <div v-show=\"film_visible\">\r\n               <ul class=\"movie_comment_box\" v-infinite-scroll=\"load\" style=\"overflow:auto\" >\r\n                   <li v-for=\"(item,index) in new_film_list\" :key=\"index\">\r\n                       <span style=\"display:inline-block;float:left;color:black;width:450px\">{{item.filmname}}</span>\r\n                        <br/><span style=\"float:left;color:gray\">{{item.date}}</span>\r\n                        <br/><span class=\"movietag\">{{item.tag}}</span>\r\n                        <el-button class=\"btn\" style=\"float:right;margin-top:-20px\">选座购票</el-button>\r\n                       <span style=\"margin-top:-15px;font-size:20px;margin-right:50px;color:orange;float:right\">{{item.price}}¥</span>\r\n                      \r\n                   </li>\r\n               </ul>\r\n             </div>\r\n             <!-- 电影排片结束 -->\r\n\r\n         </el-main>\r\n         <!-- 下半结束 -->\r\n      </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            //控制评分框显示\r\n            rate_visible:false,\r\n            //控制排片表显示\r\n            film_visible:true,\r\n            //控制无排片的显示\r\n            rate_visible:false,\r\n            form_comment:{content:\"\",comment_rate:0},\r\n            value: 3.7,\r\n            filmlist:[\r\n                {\r\n                    filmname:\"刺杀小说家\",\r\n                    price:30,\r\n                    date:\"2021-02-21 15:25:00\",\r\n                    tag:\"动作\"\r\n                },\r\n                {\r\n                    filmname:\"日不落酒店\",\r\n                    price:40,\r\n                    date:\"2021-02-22 15:25:00\",\r\n                     tag:\"喜剧\"\r\n                },\r\n                {\r\n                    filmname:\"狮子王\",\r\n                    price:50,\r\n                    date:\"2021-01-12 15:25:00\",\r\n                    tag:\"3D\"\r\n                },\r\n                {\r\n                    price:60,\r\n                    filmname:\"唐人街探案\",\r\n                    date:\"2021-03-12 15:25:00\",\r\n                    tag:\"大陆\"\r\n                },\r\n                \r\n            ],\r\n            //经过筛选之后的表\r\n            new_film_list:[]\r\n\r\n        }\r\n    },\r\n    methods: {\r\n      load () {\r\n        this.count += 2\r\n      },\r\n      isLogin(a) {\r\n        if(this.$store.state.islogin==false){\r\n        this.$confirm('未检测到登录', '提示', {\r\n          confirmButtonText: '去登陆',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push(\"/login\");\r\n        });}\r\n        },\r\n        preload(){\r\n            console.log(this.new_film_list);\r\n            this.new_film_list=undefined;\r\n            this.new_film_list = new Array();\r\n            console.log(this.new_film_list);\r\n        }\r\n    },\r\n            create:function(){\r\n            this.new_film_list=undefined;\r\n            this.new_film_list = new Array();\r\n\t\t\tconsole.log(\"BeforeTicketCreate\");\r\n            for(var i=0;i<this.filmlist[i];i++)\r\n            {\r\n                 if(this.filmlist[i].filmname==this.$store.state.SelectFilm.film_name)\r\n                 {\r\n                     this.new_film_list.push(this.filmlist[i]);\r\n                 }\r\n            }\r\n            console.log(this.new_film_list);\r\n            if(this.new_film_list.length==0){film_visible=false};\r\n\t\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 全局及header和main设置 */\r\n.all{\r\n    width:100%;\r\n    height:100%;\r\n    text-align: center;\r\n}\r\n.el-header{\r\n    background-color: rgb(78, 89, 241);\r\n    color: honeydew;\r\n    min-height:100px;\r\n    width:1400px;\r\n    margin: 0 auto;\r\n    max-height: 350px;\r\n    min-height: 350px;\r\n}\r\n.el-main{\r\n    margin: 0 auto;\r\n    /* background-color: blueviolet; */\r\n    color: honeydew;\r\n    width:1100px;\r\n    max-height:400px;\r\n    min-height:400px;\r\n    overflow:auto\r\n}\r\n/* 上方电影图片及按钮CSS */\r\n.film_info{\r\n    width:1100px;\r\n    height:400px;\r\n    /* background-color: rgb(90, 155, 117); */\r\n    position: relative;\r\n    margin: 50px auto;\r\n}\r\n.film_detail_name{\r\n    float:left;\r\n    font-size:30px;\r\n    color:white;\r\n    width:300px;\r\n    /* background-color: brown; */\r\n    text-align: left;\r\n    height: 100px;\r\n    line-height: 100px;\r\n    margin: 0px;\r\n}\r\n.film_detail_info_box{\r\n    float:left;margin-left:60px;position:relative;\r\n    /* background-color: blue; */\r\n    height: 400px;\r\n    width:500px;\r\n    }\r\n.rate{\r\n    display: inline-block;\r\n    /* background-color: aqua; */\r\n    height: 100px;\r\n    margin-top:40px ;\r\n    width: 200px;\r\n    text-align: left;\r\n}\r\n.info_text1{\r\n    height: 30px;\r\n    line-height: 30px;\r\n    /* background-color: aqua; */\r\n    display: block;\r\n    text-align: left;\r\n}\r\n.btn{\r\n    margin-top:15px;\r\n    background-color: rgb(243, 77, 77);\r\n    border: none;\r\n    color: white;\r\n    float: left;\r\n    width: 100px;\r\n    margin-right: 20px;\r\n    font-size: 13px;\r\n}\r\n.el-rate__text{\r\n    margin-top:-5px !important ;\r\n}\r\n/* 电影排片CSS */\r\n .movie_comment_box{\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding:0;\r\n     /* background-color: blue;  */\r\n} \r\n\r\n.movie_comment_box li{\r\n    text-align: left;\r\n    height:80px;\r\n     /* background-color: brown;  */\r\n    margin-bottom: 20px;}\r\n.movie_comment_box li img{\r\n    width:60px;height:60px;border:1px solid gray;border-radius:60px;\r\n}\r\n.movietag{\r\n    float:left;color:blue;border:1px solid lightblue;width:60px;text-align:center;border-radius: 20px;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}