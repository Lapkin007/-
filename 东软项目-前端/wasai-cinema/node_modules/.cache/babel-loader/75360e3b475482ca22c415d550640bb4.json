{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { QueryFilmList, ListAllPost, QueryHotRank } from \"@/api/film\";\nexport default {\n  data: function data() {\n    return {\n      posterList: [{\n        url: \"\"\n      }],\n      movie_area: [{\n        name: \"XXXX\",\n        cover: \"\",\n        hot: \"xxx\",\n        releaseTime: \"\"\n      }],\n      hot: [{\n        name: \"XXXX\",\n        cover: \"\",\n        hot: \"xxx\"\n      }, {\n        name: \"XXXX\",\n        cover: \"\",\n        hot: \"xxx\"\n      }, {\n        name: \"XXXX\",\n        cover: \"\",\n        hot: \"xxx\"\n      }]\n    };\n  },\n  methods: {\n    //点击电影卡片的跳转\n    Movie_card_click: function Movie_card_click(item) {\n      this.$store.state.navnum = 1;\n      this.$store.state.color2.color = \"blue\";\n      this.$store.state.color1.color = \"#5b5d63\";\n      this.$store.state.color3.color = \"#5b5d63\";\n      this.$store.state.color4.color = \"#5b5d63\";\n      this.$router.push(\"/film_detail?fid=\" + item.id);\n    },\n    //海报\n    PosterQuery: function PosterQuery() {\n      var _this = this;\n\n      ListAllPost().then(function (res) {\n        if (res.code == 200) {\n          _this.posterList = res.data;\n        }\n      });\n    },\n    //排行查询\n    RankQuery: function RankQuery() {\n      var _this2 = this;\n\n      this.hot = undefined;\n      this.hot = new Array();\n      QueryHotRank().then(function (res) {\n        if (res.code == 200) {\n          _this2.hot = res.data;\n          console.log(_this2.hot);\n        }\n\n        ;\n\n        if (_this2.hot.length < 10) {\n          for (var i = _this2.hot.length; i < 10; i++) {\n            _this2.hot.push({\n              name: \"XXXX\",\n              cover: \"https://s1.ax1x.com/2022/03/31/qRtZDg.gif\",\n              hot: \"xxx\"\n            });\n          }\n        }\n      });\n    }\n  },\n  // 创建前方法，实现相应页面LINK变蓝\n  beforeCreate: function beforeCreate() {\n    this.$store.state.navnum = 0;\n    this.$store.state.color1.color = \"blue\";\n    this.$store.state.color4.color = \"#5b5d63\";\n    this.$store.state.color2.color = \"#5b5d63\";\n    this.$store.state.color3.color = \"#5b5d63\";\n  },\n  created: function created() {\n    var _this3 = this;\n\n    console.log(\"created\"); //热门接口\n\n    QueryFilmList().then(function (res) {\n      if (res.code == 200) {\n        _this3.movie_area = res.data;\n      }\n    }); //海报图POST\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    //海报图POST\n    //this.PosterQuery();\n    //测试用\n    this.$axios.get(\"http://localhost:8081/api/post\").then(function (res) {\n      console.log(res);\n\n      if (res.data.code == 200) {\n        console.log(\"wtffff\");\n        _this4.posterList = res.data.data;\n      }\n    }); //热门榜单\n\n    this.RankQuery();\n    console.log(this.posterList);\n  },\n  Updated: function Updated() {//海报图POST\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACAA,MADA,kBACA;AACA;AACAC;AAAAC;AAAA,QADA;AAEAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,QAFA;AAGAD,YACA;AAAAF;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAF;AAAAC;AAAAC;AAAA,OAFA,EAGA;AAAAF;AAAAC;AAAAC;AAAA,OAHA;AAHA;AASA,GAXA;AAYAE;AACA;AACAC,oBAFA,4BAEAC,IAFA,EAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,KAPA;AAQA;AACAC,eATA,yBASA;AAAA;;AACAC;AACA;AACA;AACA;AACA,OAJA;AAKA,KAfA;AAgBA;AACAC,aAjBA,uBAiBA;AAAA;;AACA;AACA;AACAC;AACA;AACA;AAEAC;AACA;;AAAA;;AACA;AACA;AACA;AAAAX;AAAAC;AAAAC;AAAA;AAAA;AACA;AACA,OAVA;AAWA;AA/BA,GAZA;AA6CA;AACAU;AACA;AACA;AACA;AACA;AACA;AACA,GApDA;AAqDAC,SArDA,qBAqDA;AAAA;;AACAF,2BADA,CAEA;;AACAG;AACA,2BACA;AACA;AACA;AACA,KALA,EAHA,CASA;AACA,GA/DA;AAgEAC,SAhEA,qBAgEA;AAAA;;AACA;AACA;AACA;AACA,gBACAC,GADA,CACA,gCADA,EAEAC,IAFA,CAEA,eACA;AACAN;;AACA;AACAA;AACA;AACA;AACA,KATA,EAJA,CAcA;;AACA;AACAA;AACA,GAjFA;AAkFAO,SAlFA,qBAkFA,CACA;AAEA;AArFA","names":["data","posterList","url","movie_area","name","cover","hot","releaseTime","methods","Movie_card_click","item","PosterQuery","ListAllPost","RankQuery","QueryHotRank","console","beforeCreate","created","QueryFilmList","mounted","get","then","Updated"],"sourceRoot":"src/views","sources":["home.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n      <!-- 轮播图 -->\r\n      <div>{{posterList[0].url}}</div>\r\n      <div class=\"post\">\r\n    <el-carousel  height=\"500px\" width=\"1500px\">\r\n      <el-carousel-item v-for=\"(item,index) in posterList\" :key=\"index\">\r\n        <el-image :src=\"item.url\" alt=\"\"  style=\"width: 1500px; height: 500px\"></el-image>\r\n      </el-carousel-item>\r\n    </el-carousel>\r\n  </div>\r\n  <br/><br/>\r\n  <!-- 轮播图结束 -->\r\n  <el-container>\r\n          <!-- 左侧电影区 -->\r\n          <el-main>\r\n          <h2 class=\"sidetitle\">热门电影</h2>\r\n          <br/>\r\n    <el-col :span=\"5\" v-for=\"(item,index) in movie_area\" :key=\"index\" :offset=\"1\" style=\"margin-top:20px\">\r\n      <div @click=\"Movie_card_click(item)\">\r\n    <el-card :body-style=\"{ padding: '13px 0px' }\" style=\"margin-bottom:30px;height:330px\">\r\n      <img :src=\"item.cover\" style=\"width: 170px;height:250px\" alt=\"ERROR\" title=\"\"/>\r\n      <div style=\"padding: 5px;\">\r\n        <span class=\"showTagName\">{{item.name}}</span>\r\n        <div class=\"movie_info\">\r\n          <div class=\"movie_info_wanttosee\" >{{item.hot}}人想看</div>\r\n          <div class=\"movie_info_on\" >{{item.releaseTime}}&nbsp;上映</div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n    </div>\r\n  </el-col>\r\n          </el-main>\r\n          <!-- 左侧电影区结束 -->\r\n          <!-- 右侧排行区 -->\r\n          <el-aside><span class=\"hot_title\" >热门榜单TOP10</span>\r\n          <div class=\"top1\" style=\"margin-top:30px\">\r\n             <div @click=\"Movie_card_click(hot[0])\">\r\n            <div class=\"top_rank_num\" >1</div>\r\n              <img width=\"120\" :src=\"hot[0].cover\" alt=\"ERROR\" style=\"float:left\" />\r\n              <span class=\"top1_text1\">{{hot[0].name}}</span><br />\r\n              <span class=\"top1_text2\">上映时间:{{hot[0].releaseTime}}</span><br />\r\n              <span class=\"top1_text3\">热度值:{{hot[0].hot}}</span><br />\r\n                </div> </div>\r\n          \r\n          <div class=\"top2\" style=\"margin-left:-50px\">\r\n            <div @click=\"Movie_card_click(hot[1])\">\r\n            <div class=\"top_rank_num\" >2</div>\r\n              <img width=\"150\" height=\"180\" :src=\"hot[1].cover\" alt=\"ERROR\"  style=\"float:left\"/>\r\n              <span class=\"top2_text1\">{{hot[1].name}}</span><br />\r\n              <span class=\"top2_text2\">热度值:{{hot[1].hot}}</span><br />\r\n          </div></div>\r\n          <div class=\"top2\" style=\"margin-left:8px\">\r\n            <div @click=\"Movie_card_click(hot[2])\">\r\n            <div class=\"top_rank_num\" >3</div>\r\n              <img width=\"150\" height=\"180\" :src=\"hot[2].cover\" alt=\"ERROR\" style=\"float:left\"/>\r\n              <span class=\"top2_text1\">{{hot[2].name}}</span><br />\r\n              <span class=\"top2_text2\">热度值:{{hot[2].hot}}</span><br />\r\n          </div></div>\r\n          <br/>\r\n          <!-- 第四位开始 -->\r\n          <div class=\"top_more\">\r\n             <el-row v-for=\"(item,index) in hot.slice(3)\"  :key=\"index\" :offset=\"1\" style=\"height:50px;line-height:50px\">\r\n                 <span class=\"top_more_span1\" ><span class=\"top_more_span2\">{{index+4}}</span>&nbsp;{{item.name}}</span>\r\n                 <span class=\"top_more_span3\" >热度值:{{item.hot}}</span>\r\n             </el-row>\r\n          </div>\r\n      \r\n          </el-aside>\r\n          <!-- 右侧排行区结束 -->\r\n   </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {QueryFilmList,ListAllPost,QueryHotRank} from \"@/api/film\"\r\nexport default {\r\n  data(){\r\n      return{\r\n          posterList:[{url:\"\"}],\r\n          movie_area:[{name:\"XXXX\",cover:\"\",hot:\"xxx\",releaseTime:\"\"},],\r\n          hot:[\r\n          {name:\"XXXX\",cover:\"\",hot:\"xxx\"},\r\n          {name:\"XXXX\",cover:\"\",hot:\"xxx\"},\r\n          {name:\"XXXX\",cover:\"\",hot:\"xxx\"}\r\n          ],\r\n      }\r\n  },\r\n  methods:{\r\n    //点击电影卡片的跳转\r\n    Movie_card_click(item){\r\n      this.$store.state.navnum=1;\r\n      this.$store.state.color2.color=\"blue\";\r\n            this.$store.state.color1.color=\"#5b5d63\";this.$store.state.color3.color=\"#5b5d63\";this.$store.state.color4.color=\"#5b5d63\";\r\n            this.$router.push(\"/film_detail?fid=\"+item.id);\r\n        },\r\n        //海报\r\n      PosterQuery(){\r\n         ListAllPost().then((res)=>{\r\n           if(res.code==200){\r\n        this.posterList=res.data;\r\n         }\r\n         })\r\n       },\r\n       //排行查询\r\n       RankQuery(){\r\n         this.hot=undefined;\r\n         this.hot=new Array();\r\n         QueryHotRank().then((res)=>{\r\n           if(res.code==200){\r\n        this.hot=res.data;\r\n\r\n        console.log(this.hot);\r\n         };\r\n         if(this.hot.length<10){\r\n           for(var i=this.hot.length;i<10;i++){\r\n           this.hot.push({name:\"XXXX\",cover:\"https://s1.ax1x.com/2022/03/31/qRtZDg.gif\",hot:\"xxx\"})}\r\n         }\r\n         })\r\n       },\r\n  },\r\n  // 创建前方法，实现相应页面LINK变蓝\r\n  beforeCreate:function(){\r\n            this.$store.state.navnum=0;\r\n            this.$store.state.color1.color=\"blue\";\r\n            this.$store.state.color4.color=\"#5b5d63\";\r\n            this.$store.state.color2.color=\"#5b5d63\";\r\n            this.$store.state.color3.color=\"#5b5d63\";\r\n\t\t},\r\n  created(){\r\n    console.log(\"created\");\r\n      //热门接口\r\n        QueryFilmList().then((res)=>{\r\n            if(res.code==200)\r\n            {\r\n                this.movie_area=res.data;\r\n            }\r\n        });\r\n        //海报图POST\r\n  },\r\n  mounted(){\r\n    //海报图POST\r\n    //this.PosterQuery();\r\n    //测试用\r\n        this.$axios\r\n           .get(\"http://localhost:8081/api/post\")\r\n           .then((res)=>\r\n             {\r\n               console.log(res);\r\n                 if(res.data.code==200){\r\n                     console.log(\"wtffff\");\r\n                      this.posterList=res.data.data;\r\n                 }\r\n             });\r\n    //热门榜单\r\n    this.RankQuery();\r\n    console.log(this.posterList);\r\n  },\r\n  Updated(){\r\n    //海报图POST\r\n    \r\n  },\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* 排行CSS */\r\n.top_rank_num{height:20px;width:20px;display:block;position:absolute;background-color:yellow;color:black}\r\n.hot_title{display:inline-block;text-align:left;font-size:28px;color:orange;width:400px;padding-left:30px}\r\n.top1{\r\n    position: relative;\r\n    \r\n    height: 160px;\r\n    width:300px;\r\n    margin-left:23px;\r\n    border: 1px solid rgb(231, 231, 231);\r\n    overflow: hidden;\r\n}\r\n.top1_text1{\r\n    padding-top:20px;\r\n    display: block;\r\n    width: 400px;\r\n    text-align: left;\r\n    text-indent: 10px;\r\n    color: black;\r\n}\r\n.top1_text2{\r\n    display: block;\r\n    width: 400px;\r\n    text-align: left;text-indent: 10px;\r\n    font-size:16px;\r\n    color: black;\r\n    \r\n}\r\n.top1_text3{\r\n    display: block;\r\n    width: 400px;\r\n    text-align: left;text-indent: 10px;\r\n    color: orange;\r\n    font-size:14px;\r\n}\r\n.top2{\r\n    width:145px;\r\n    height:230px;\r\n    margin-top: 20px;\r\n    display: inline-block;\r\n    border: 1px solid rgb(228, 228, 228);\r\n    overflow: hidden;\r\n}\r\n.top2_text1{\r\n    color:black;\r\n    text-align: left;text-indent: 10px;\r\n    width:140px;\r\n    height:22px;\r\n    font-size:18px;\r\n    display: inline-block;\r\n    overflow: hidden;\r\n}\r\n.top2_text2{\r\n    display: block;\r\n    margin-top:5px;\r\n    width: 400px;\r\n    text-align: left;text-indent: 10px;\r\n    color: orange;\r\n    font-size:14px;\r\n}\r\n.top_more{\r\n    margin-top:30px;\r\n     width:303px;\r\n    margin-left:24px;\r\n    \r\n}\r\n.top_more_span1{float:left;color:black;font-size:18px;}\r\n.top_more_span2{width:5px;color:gray;display:inline-block;text-align:left;margin-right:30px;}\r\n.top_more_span3{float:right;color:orange;font-size:15px;display:inline-block;}\r\n\r\n/* 电影区CSS */\r\n.sidetitle{color:orange;float:left;width:800px;text-align:left;text-indent:40px}\r\n.movie_info{\r\n    position: relative;\r\n    top:-41px;\r\n}\r\n.movie_info_wanttosee{text-indent:10px;padding:5px 0;text-align:left;width:170px;color:orange;\r\nfont-size:14px;margin-left:9px;margin-top:3px;position:relative;background-color:rgb(235, 228, 220);}\r\n.movie_info_on{margin-top:14px;text-align:center;width:170px;color:gray;font-size:14px;margin-left:9px;position:relative;}\r\n\r\n.image {\r\n    width: 100%;\r\n    display: block;\r\n  }\r\n  .showTagName{\r\n    overflow: hidden;display:none;width:170px;height:25px;position:relative;top:-39px;color:white;background-color:rgba(1, 1,1, 0.3);\r\n  }\r\n  .el-col:hover div span{\r\n    display: inline-block;\r\n  }\r\n/* 轮播CSS */\r\n.post{\r\n   position: relative;\r\n   margin: 0 auto;\r\n   width: 1500px;\r\n   overflow: hidden;\r\n\r\n}\r\n/* 主页面CSS */\r\n.home{\r\n    background-color:rgb(255, 255, 255);\r\n    text-align: center;\r\n    \r\n}\r\n.el-aside{\r\n    /* background-color:darkslategray; */\r\n    color: honeydew;\r\n    margin-left: 100px;\r\n    min-width: 400px;\r\n    overflow: hidden;\r\n}\r\n.el-main{\r\n    /* background-color: blueviolet; */\r\n    color: honeydew;\r\n    \r\n    margin-left: 175px;\r\n    max-width: 1000px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}